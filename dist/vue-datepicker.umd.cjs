(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=o(e.Vue,e.dateFns))})(this,function(e,o){"use strict";function Xe(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Xe.compatConfig={MODE:3};function gt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}gt.compatConfig={MODE:3};function yt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}yt.compatConfig={MODE:3};function ht(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}ht.compatConfig={MODE:3};function kt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}kt.compatConfig={MODE:3};function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}bt.compatConfig={MODE:3};function qt(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Sn(t){return n=>o.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Dn=(t,n,l)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(Sn(t))}catch{a=r.map(qt(n))}else a=r.map(qt(n));const m=a.slice(0,l),s=a.slice(l+1,a.length);return[a[l]].concat(...s).concat(...m)},wt=(t,n,l)=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:Ft(a,n)});return l?r.reverse():r},Qt=(t,n,l)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const s=m<10?`0${m}`:m;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const m=l==="long"?"MMMM":"MMM";return r.map((s,c)=>{const A=o.format(s,m,{locale:t});return{text:A.charAt(0).toUpperCase()+A.substring(1),value:c}})}catch{}const a=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return r.map((m,s)=>{const c=a.format(m);return{text:c.charAt(0).toUpperCase()+c.substring(1),value:s}})},Cn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],he=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},Bn=t=>({type:"dot",...t??{}}),Gt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,vt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ye=t=>t,Xt=t=>t===0?t:!t||isNaN(+t)?null:+t,Jt=t=>t===null,Zt=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Tn=t=>{const n=[],l=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(l(a))}return n},Je=(t,n,l)=>{const r=l!=null,a=n!=null;if(!r&&!a)return!1;const m=+l,s=+n;return r&&a?+t>m||+t<s:r?+t>m:a?+t<s:!1},je=(t,n)=>Tn(t).map(l=>l.map(r=>{const{active:a,disabled:m,isBetween:s,highlighted:c}=n(r);return{...r,active:a,disabled:m,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:m,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:m&&a,dp__cell_in_between:s,"dp--highlighted":c}}})),_e=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},$n=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function An(t,n){let l=[...document.querySelectorAll($n())];l=l.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=l.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=l.length))return l[r+(n?-1:1)]}const Pn=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),Ft=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Mt=t=>o.format(t,"dd-MM-yyyy"),St=t=>Array.isArray(t),lt=(t,n)=>n.get(Mt(t)),Rn=(t,n)=>t?n?n instanceof Map?!!lt(t,n):n(W(t)):!1:!0,en=(t,n,l,r,a,m)=>{const s=o.parse(t,n.slice(0,t.length),new Date,{locale:m});return o.isValid(s)&&o.isDate(s)?r||a?s:o.set(s,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},Nn=(t,n,l,r,a,m)=>{const s=Array.isArray(l)?l[0]:l;if(typeof n=="string")return en(t,n,s,r,a,m);if(Array.isArray(n)){let c=null;for(const A of n)if(c=en(t,A,s,r,a,m),c)break;return c}return typeof n=="function"?n(t):null},W=t=>t?new Date(t):new Date,En=(t,n,l)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),m=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),c=t.getMinutes().toString().padStart(2,"0"),A=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${m}T${s}:${c}:${A}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Me=t=>{let n=W(JSON.parse(JSON.stringify(t)));return n=o.setHours(n,0),n=o.setMinutes(n,0),n=o.setSeconds(n,0),n=o.setMilliseconds(n,0),n},Ye=(t,n,l,r)=>{let a=t?W(t):W();return(n||n===0)&&(a=o.setHours(a,+n)),(l||l===0)&&(a=o.setMinutes(a,+l)),(r||r===0)&&(a=o.setSeconds(a,+r)),o.setMilliseconds(a,0)},me=(t,n)=>!t||!n?!1:o.isBefore(Me(t),Me(n)),ce=(t,n)=>!t||!n?!1:o.isEqual(Me(t),Me(n)),pe=(t,n)=>!t||!n?!1:o.isAfter(Me(t),Me(n)),ot=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?pe(l,t[0])&&me(l,t[1]):t!=null&&t[0]&&n?pe(l,t[0])&&me(l,n)||me(l,t[0])&&pe(l,n):!1,Ce=t=>{const n=o.set(new Date(t),{date:1});return Me(n)},Dt=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,l]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Le=t=>({hours:o.getHours(t),minutes:o.getMinutes(t),seconds:o.getSeconds(t)}),tn=(t,n)=>{if(n){const l=o.getYear(W(n));if(l>t)return 12;if(l===t)return o.getMonth(W(n))}},nn=(t,n)=>{if(n){const l=o.getYear(W(n));return l<t?-1:l===t?o.getMonth(W(n)):void 0}},qe=t=>{if(t)return o.getYear(W(t))},an=(t,n)=>{const l=pe(t,n)?n:t,r=pe(n,t)?n:t;return o.eachDayOfInterval({start:l,end:r})},_n=t=>{const n=o.addMonths(t,1);return{month:o.getMonth(n),year:o.getYear(n)}},Pe=(t,n)=>{const l=o.startOfWeek(t,{weekStartsOn:+n}),r=o.endOfWeek(t,{weekStartsOn:+n});return[l,r]},rn=(t,n)=>{const l={hours:o.getHours(W()),minutes:o.getMinutes(W()),seconds:n?o.getSeconds(W()):0};return Object.assign(l,t)},Ve=(t,n,l)=>[o.set(W(t),{date:1}),o.set(W(),{month:n,year:l,date:1})],Re=(t,n,l)=>{let r=t?W(t):W();return(n||n===0)&&(r=o.setMonth(r,n)),l&&(r=o.setYear(r,l)),r},ln=(t,n,l,r,a)=>{if(!r||a&&!n||!a&&!l)return!1;const m=a?o.addMonths(t,1):o.subMonths(t,1),s=[o.getMonth(m),o.getYear(m)];return a?!Vn(...s,n):!Yn(...s,l)},Yn=(t,n,l)=>me(...Ve(l,t,n))||ce(...Ve(l,t,n)),Vn=(t,n,l)=>pe(...Ve(l,t,n))||ce(...Ve(l,t,n)),on=(t,n,l,r,a,m,s)=>{if(typeof n=="function"&&!s)return n(t);const c=l?{locale:l}:void 0;return Array.isArray(t)?`${o.format(t[0],m,c)}${a&&!t[1]?"":r}${t[1]?o.format(t[1],m,c):""}`:o.format(t,m,c)},Qe=t=>{if(t)return null;throw new Error(vt.prop("partial-range"))},st=(t,n)=>{if(n)return t();throw new Error(vt.prop("range"))},Ct=t=>Array.isArray(t)?o.isValid(t[0])&&(t[1]?o.isValid(t[1]):!0):t?o.isValid(t):!1,On=(t,n)=>o.set(n??W(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Bt=(t,n,l,r)=>{if(!t)return!0;if(r){const a=l==="max"?o.isBefore(t,n):o.isAfter(t,n),m={seconds:0,milliseconds:0};return a||o.isEqual(o.set(t,m),o.set(n,m))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Tt=(t,n,l)=>t?On(t,n):W(l??n),sn=(t,n,l,r,a)=>{if(Array.isArray(r)){const s=Tt(t,r[0],n),c=Tt(t,r[1],n);return Bt(r[0],s,l,!!n)&&Bt(r[1],c,l,!!n)&&a}const m=Tt(t,r,n);return Bt(r,m,l,!!n)&&a},$t=t=>o.set(W(),Le(t)),In=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>o.getYear(W(l))===n).map(l=>o.getMonth(l)):[],un=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(r=>r.month===n&&r.year===l),At=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Ze=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),cn=()=>{const t=r=>{Ze.menuFocused=r},n=r=>{Ze.shiftKeyInMenu!==r&&(Ze.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:Ze.shiftKeyInMenu,menuFocused:Ze.menuFocused})),setMenuFocused:t,setShiftKey:n}},de=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Pt=e.ref(null),it=e.ref(!1),Rt=e.ref(!1),Nt=e.ref(!1),Et=e.ref(!1),be=e.ref(0),ge=e.ref(0),Oe=()=>{const t=e.computed(()=>it.value?[...de.selectionGrid,de.actionRow].filter(P=>P.length):Rt.value?[...de.timePicker[0],...de.timePicker[1],Et.value?[]:[Pt.value],de.actionRow].filter(P=>P.length):Nt.value?[...de.monthPicker,de.actionRow]:[de.monthYear,...de.calendar,de.time,de.actionRow].filter(P=>P.length)),n=P=>{be.value=P?be.value+1:be.value-1;let O=null;t.value[ge.value]&&(O=t.value[ge.value][be.value]),!O&&t.value[ge.value+(P?1:-1)]?(ge.value=ge.value+(P?1:-1),be.value=P?0:t.value[ge.value].length-1):O||(be.value=P?be.value-1:be.value+1)},l=P=>{if(ge.value===0&&!P||ge.value===t.value.length&&P)return;ge.value=P?ge.value+1:ge.value-1,t.value[ge.value]?t.value[ge.value]&&!t.value[ge.value][be.value]&&be.value!==0&&(be.value=t.value[ge.value].length-1):ge.value=P?ge.value-1:ge.value+1},r=P=>{let O=null;t.value[ge.value]&&(O=t.value[ge.value][be.value]),O?O.focus({preventScroll:!it.value}):be.value=P?be.value-1:be.value+1},a=()=>{n(!0),r(!0)},m=()=>{n(!1),r(!1)},s=()=>{l(!1),r(!0)},c=()=>{l(!0),r(!0)},A=(P,O)=>{de[O]=P},C=(P,O)=>{de[O]=P},b=()=>{be.value=0,ge.value=0};return{buildMatrix:A,buildMultiLevelMatrix:C,setTimePickerBackRef:P=>{Pt.value=P},setSelectionGrid:P=>{it.value=P,b(),P||(de.selectionGrid=[])},setTimePicker:(P,O=!1)=>{Rt.value=P,Et.value=O,b(),P||(de.timePicker[0]=[],de.timePicker[1]=[])},setTimePickerElements:(P,O=0)=>{de.timePicker[O]=P},arrowRight:a,arrowLeft:m,arrowUp:s,arrowDown:c,clearArrowNav:()=>{de.monthYear=[],de.calendar=[],de.time=[],de.actionRow=[],de.selectionGrid=[],de.timePicker[0]=[],de.timePicker[1]=[],it.value=!1,Rt.value=!1,Et.value=!1,Nt.value=!1,b(),Pt.value=null},setMonthPicker:P=>{Nt.value=P,b()},refSets:de}},Ne=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),dn=(t,n)=>{const l=_t(t,n);return l||W()},zn=(t,n)=>n.dateInTz?Ne(new Date(t),n.dateInTz):W(t),_t=(t,n)=>{if(!t)return null;if(!n)return W(t);const l=W(t);return n.exactMatch?zn(t,n):Ne(l,n.timezone)},Ln=t=>{if(!t)return 0;const n=new Date,l=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(n.toLocaleString("en-US",{timeZone:t})),a=r.getTimezoneOffset()/60;return(+l-+r)/(1e3*60*60)-a},fn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Kn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),mn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Hn=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:mn(!1)};const r=n?t:{},a=n?r.count??!0:t,m=mn(a);return Object.assign(l,r,{count:m})},Wn=(t,n,l)=>t||(typeof l=="string"?l:n),Un=t=>typeof t=="boolean"?t?fn({}):!1:fn(t),xn=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},jn=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),qn=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Qn=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},Gn=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0},...t??{}}),Xn=t=>{const n={dates:Array.isArray(t)?t.map(l=>W(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},Jn=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},Zn=(t,n)=>{const l={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...l,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},Fn=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:n},Yt=(t,n)=>new Map(t.map(l=>{const r=dn(l,n);return[Mt(r),r]})),ea=(t,n)=>t.length?new Map(t.map(l=>{const r=dn(l.date,n);return[Mt(r),l]})):null,ta=(t,n,l,r,a,m,s)=>({minDate:_t(t,s),maxDate:_t(n,s),disabledDates:St(l)?Yt(l,s):l,allowedDates:St(r)?Yt(r,s):null,highlight:typeof a=="object"&&St(a==null?void 0:a.dates)?Yt(a.dates,s):a,markers:ea(m,s)}),na=(t,n)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+n}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},fe=t=>{const n=()=>{const I=t.enableSeconds?":ss":"";return t.is24?`HH:mm${I}`:`hh:mm${I} aa`},l=()=>{var I;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((I=L.value)==null?void 0:I.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=I=>rn(I,t.enableSeconds),a=()=>$.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,m=e.computed(()=>Hn(t.multiCalendars)),s=e.computed(()=>a()),c=e.computed(()=>Kn(t.ariaLabels)),A=e.computed(()=>jn(t.filters)),C=e.computed(()=>Un(t.transitions)),b=e.computed(()=>qn(t.actionRow)),T=e.computed(()=>Wn(t.previewFormat,t.format,l())),S=e.computed(()=>xn(t.textInput)),z=e.computed(()=>Qn(t.inline)),Y=e.computed(()=>Gn(t.config)),D=e.computed(()=>Xn(t.highlight)),L=e.computed(()=>Jn(t.weekNumbers)),P=e.computed(()=>Fn(t.timezone,t.emitTimezone)),O=e.computed(()=>na(t.multiDates,t.multiDatesLimit)),V=e.computed(()=>ta(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,D.value,t.markers,P.value)),$=e.computed(()=>Zn(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:C,defaultedMultiCalendars:m,defaultedStartTime:s,defaultedAriaLabels:c,defaultedFilters:A,defaultedActionRow:b,defaultedPreviewFormat:T,defaultedTextInput:S,defaultedInline:z,defaultedConfig:Y,defaultedHighlight:D,defaultedWeekNumbers:L,defaultedRange:$,propDates:V,defaultedTz:P,defaultedMultiDates:O,getDefaultPattern:l,getDefaultStartTime:a}},aa=(t,n,l)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:m,defaultedTz:s,defaultedMultiDates:c,getDefaultPattern:A}=fe(n),C=e.ref(""),b=e.toRef(n,"format"),T=e.toRef(n,"formatLocale");e.watch(r,()=>{t("internal-model-change",r.value)},{deep:!0}),e.watch(b,()=>{h()});const S=i=>s.value.timezone&&s.value.convertModel?Ne(i,s.value.timezone):i,z=i=>{if(s.value.timezone&&s.value.convertModel){const E=Ln(s.value.timezone);return o.addHours(i,E)}return i},Y=(i,E,u=!1)=>on(i,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,E??A(),u),D=i=>i?n.modelType?N(i):{hours:o.getHours(i),minutes:o.getMinutes(i),seconds:n.enableSeconds?o.getSeconds(i):0}:null,L=i=>n.modelType?N(i):{month:o.getMonth(i),year:o.getYear(i)},P=i=>Array.isArray(i)?c.value.enabled?i.map(E=>O(E,o.setYear(W(),E))):st(()=>[o.setYear(W(),i[0]),i[1]?o.setYear(W(),i[1]):Qe(m.value.partialRange)],m.value.enabled):o.setYear(W(),+i),O=(i,E)=>(typeof i=="string"||typeof i=="number")&&n.modelType?G(i):E,V=i=>Array.isArray(i)?[O(i[0],Ye(null,+i[0].hours,+i[0].minutes,i[0].seconds)),O(i[1],Ye(null,+i[1].hours,+i[1].minutes,i[1].seconds))]:O(i,Ye(null,i.hours,i.minutes,i.seconds)),$=i=>{const E=o.set(W(),{date:1});return Array.isArray(i)?c.value.enabled?i.map(u=>O(u,Re(E,+u.month,+u.year))):st(()=>[O(i[0],Re(E,+i[0].month,+i[0].year)),O(i[1],i[1]?Re(E,+i[1].month,+i[1].year):Qe(m.value.partialRange))],m.value.enabled):O(i,Re(E,+i.month,+i.year))},I=i=>{if(Array.isArray(i))return i.map(E=>G(E));throw new Error(vt.dateArr("multi-dates"))},K=i=>{if(Array.isArray(i)&&m.value.enabled){const E=i[0],u=i[1];return[W(Array.isArray(E)?E[0]:null),W(Array.isArray(u)?u[0]:null)]}return W(i[0])},q=i=>n.modelAuto?Array.isArray(i)?[G(i[0]),G(i[1])]:n.autoApply?[G(i)]:[G(i),null]:Array.isArray(i)?st(()=>i[1]?[G(i[0]),i[1]?G(i[1]):Qe(m.value.partialRange)]:[G(i[0])],m.value.enabled):G(i),B=()=>{Array.isArray(r.value)&&m.value.enabled&&r.value.length===1&&r.value.push(Qe(m.value.partialRange))},ae=()=>{const i=r.value;return[N(i[0]),i[1]?N(i[1]):Qe(m.value.partialRange)]},ee=()=>r.value[1]?ae():N(ye(r.value[0])),J=()=>(r.value||[]).map(i=>N(i)),R=()=>(B(),n.modelAuto?ee():c.value.enabled?J():Array.isArray(r.value)?st(()=>ae(),m.value.enabled):N(ye(r.value))),U=i=>!i||Array.isArray(i)&&!i.length?null:n.timePicker?V(ye(i)):n.monthPicker?$(ye(i)):n.yearPicker?P(ye(i)):c.value.enabled?I(ye(i)):n.weekPicker?K(ye(i)):q(ye(i)),X=i=>{const E=U(i);Ct(ye(E))?(r.value=ye(E),h()):(r.value=null,C.value="")},H=()=>{const i=E=>o.format(E,a.value.format);return`${i(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?i(r.value[1]):""}`},f=()=>l.value&&r.value?Array.isArray(r.value)?H():o.format(r.value,a.value.format):Y(r.value),w=()=>r.value?c.value.enabled?r.value.map(i=>Y(i)).join("; "):a.value.enabled&&typeof a.value.format=="string"?f():Y(r.value):"",h=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?C.value=w():C.value=n.format(r.value)},G=i=>{if(n.utc){const E=new Date(i);return n.utc==="preserve"?new Date(E.getTime()+E.getTimezoneOffset()*6e4):E}return n.modelType?n.modelType==="date"||n.modelType==="timestamp"?S(new Date(i)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?S(o.parse(i,A(),new Date,{locale:T.value})):S(o.parse(i,n.modelType,new Date,{locale:T.value})):S(new Date(i))},N=i=>i?n.utc?En(i,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+z(i):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?Y(z(i)):Y(z(i),n.modelType,!0):z(i):"",y=(i,E=!1)=>{if(t("update:model-value",i),s.value.emitTimezone&&E){const u=Array.isArray(i)?i.map(g=>Ne(ye(g),s.value.emitTimezone)):Ne(ye(i),s.value.emitTimezone);t("update:model-timezone-value",u)}},j=i=>Array.isArray(r.value)?c.value.enabled?r.value.map(E=>i(E)):[i(r.value[0]),r.value[1]?i(r.value[1]):Qe(m.value.partialRange)]:i(ye(r.value)),Z=()=>{if(Array.isArray(r.value)){const i=Pe(r.value[0],n.weekStart),E=r.value[1]?Pe(r.value[1],n.weekStart):[];return[i.map(u=>W(u)),E.map(u=>W(u))]}return Pe(r.value,n.weekStart).map(i=>W(i))},d=i=>y(ye(j(i)));return{inputValue:C,internalModelValue:r,checkBeforeEmit:()=>r.value?m.value.enabled?m.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:X,formatInputValue:h,emitModelValue:()=>(h(),n.monthPicker?d(L):n.timePicker?d(D):n.yearPicker?d(o.getYear):n.weekPicker?t("update:model-value",Z()):y(R(),!0))}},ra=(t,n)=>{const{defaultedFilters:l,propDates:r}=fe(t),{validateMonthYearInRange:a}=ze(t),m=(b,T)=>{let S=b;return l.value.months.includes(o.getMonth(S))?(S=T?o.addMonths(b,1):o.subMonths(b,1),m(S,T)):S},s=(b,T)=>{let S=b;return l.value.years.includes(o.getYear(S))?(S=T?o.addYears(b,1):o.subYears(b,1),s(S,T)):S},c=(b,T=!1)=>{const S=o.set(W(),{month:t.month,year:t.year});let z=b?o.addMonths(S,1):o.subMonths(S,1);t.disableYearSelect&&(z=o.setYear(z,t.year));let Y=o.getMonth(z),D=o.getYear(z);l.value.months.includes(Y)&&(z=m(z,b),Y=o.getMonth(z),D=o.getYear(z)),l.value.years.includes(D)&&(z=s(z,b),D=o.getYear(z)),a(Y,D,b,t.preventMinMaxNavigation)&&A(Y,D,T)},A=(b,T,S)=>{n("update-month-year",{month:b,year:T,fromNav:S})},C=e.computed(()=>b=>ln(o.set(W(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,b));return{handleMonthYearChange:c,isDisabled:C,updateMonthYear:A}};var Ge=(t=>(t.center="center",t.left="left",t.right="right",t))(Ge||{}),Be=(t=>(t.month="month",t.year="year",t))(Be||{}),Ke=(t=>(t.top="top",t.bottom="bottom",t))(Ke||{}),He=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(He||{}),$e=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))($e||{});const la=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:r,inline:a,emit:m,props:s,slots:c})=>{const A=e.ref({}),C=e.ref(!1),b=e.ref({top:"0",left:"0"}),T=e.ref(!1),S=e.toRef(s,"teleportCenter");e.watch(S,()=>{b.value=JSON.parse(JSON.stringify({})),$()});const z=f=>{if(s.teleport){const w=f.getBoundingClientRect();return{left:w.left+window.scrollX,top:w.top+window.scrollY}}return{top:0,left:0}},Y=(f,w)=>{b.value.left=`${f+w-A.value.width}px`},D=f=>{b.value.left=`${f}px`},L=(f,w)=>{s.position===Ge.left&&D(f),s.position===Ge.right&&Y(f,w),s.position===Ge.center&&(b.value.left=`${f+w/2-A.value.width/2}px`)},P=f=>{const{width:w,height:h}=f.getBoundingClientRect(),{top:G,left:N}=s.altPosition?s.altPosition(f):z(f);return{top:+G,left:+N,width:w,height:h}},O=()=>{b.value.left="50%",b.value.top="50%",b.value.transform="translate(-50%, -50%)",b.value.position="fixed",delete b.value.opacity},V=()=>{const f=he(l),{top:w,left:h,transform:G}=s.altPosition(f);b.value={top:`${w}px`,left:`${h}px`,transform:G??""}},$=(f=!0)=>{var w;if(!a.value.enabled){if(S.value)return O();if(s.altPosition!==null)return V();if(f){const h=s.teleport?(w=n.value)==null?void 0:w.$el:t.value;h&&(A.value=h.getBoundingClientRect()),m("recalculate-position")}return J()}},I=({inputEl:f,left:w,width:h})=>{window.screen.width>768&&!C.value&&L(w,h),B(f)},K=f=>{const{top:w,left:h,height:G,width:N}=P(f);b.value.top=`${G+w+ +s.offset}px`,T.value=!1,C.value||(b.value.left=`${h+N/2-A.value.width/2}px`),I({inputEl:f,left:h,width:N})},q=f=>{const{top:w,left:h,width:G}=P(f);b.value.top=`${w-+s.offset-A.value.height}px`,T.value=!0,I({inputEl:f,left:h,width:G})},B=f=>{if(s.autoPosition){const{left:w,width:h}=P(f),{left:G,right:N}=A.value;if(!C.value){if(Math.abs(G)!==Math.abs(N)){if(G<=0)return C.value=!0,D(w);if(N>=document.documentElement.clientWidth)return C.value=!0,Y(w,h)}return L(w,h)}}},ae=()=>{const f=he(l);if(f){const{height:w}=A.value,{top:h,height:G}=f.getBoundingClientRect(),y=window.innerHeight-h-G,j=h;return w<=y?Ke.bottom:w>y&&w<=j?Ke.top:y>=j?Ke.bottom:Ke.top}return Ke.bottom},ee=f=>ae()===Ke.bottom?K(f):q(f),J=()=>{const f=he(l);if(f)return s.autoPosition?ee(f):K(f)},R=function(f){if(f){const w=f.scrollHeight>f.clientHeight,G=window.getComputedStyle(f).overflowY.indexOf("hidden")!==-1;return w&&!G}return!0},U=function(f){return!f||f===document.body||f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:R(f)?f:U(f.parentNode)},X=f=>{if(f)switch(s.position){case Ge.left:return{left:0,transform:"translateX(0)"};case Ge.right:return{left:`${f.width}px`,transform:"translateX(-100%)"};default:return{left:`${f.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:T,menuStyle:b,xCorrect:C,setMenuPosition:$,getScrollableParent:U,shadowRender:(f,w)=>{var Z,d,v;const h=document.createElement("div"),G=(Z=he(l))==null?void 0:Z.getBoundingClientRect();h.setAttribute("id","dp--temp-container");const N=(d=r.value)!=null&&d.clientWidth?r.value:document.body;N.append(h);const y=X(G),j=e.h(f,{...w,shadow:!0,style:{opacity:0,position:"absolute",...y}},Object.fromEntries(Object.keys(c).filter(p=>["right-sidebar","left-sidebar"].includes(p)).map(p=>[p,c[p]])));e.render(j,h),A.value=(v=j.el)==null?void 0:v.getBoundingClientRect(),e.render(null,h),N.removeChild(h)}}},Ie=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],oa=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],sa={all:()=>Ie,monthYear:()=>Ie.filter(t=>t.use.includes("month-year")),input:()=>oa,timePicker:()=>Ie.filter(t=>t.use.includes("time")),action:()=>Ie.filter(t=>t.use.includes("action")),calendar:()=>Ie.filter(t=>t.use.includes("calendar")),menu:()=>Ie.filter(t=>t.use.includes("menu")),shared:()=>Ie.filter(t=>t.use.includes("shared")),yearMode:()=>Ie.filter(t=>t.use.includes("year-mode"))},Se=(t,n,l)=>{const r=[];return sa[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),l!=null&&l.length&&l.forEach(a=>{a.slot&&r.push(a.slot)}),r},Fe=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),l=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},et=(t,n)=>{const{defaultedRange:l,defaultedTz:r}=fe(t),a=W(Ne(W(),r.value.timezone)),m=e.ref([{month:o.getMonth(a),year:o.getYear(a)}]),s=e.reactive({hours:l.value.enabled?[o.getHours(a),o.getHours(a)]:o.getHours(a),minutes:l.value.enabled?[o.getMinutes(a),o.getMinutes(a)]:o.getMinutes(a),seconds:l.value.enabled?[0,0]:0}),c=e.computed({get:()=>t.internalModelValue,set:b=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",b)}}),A=e.computed(()=>b=>m.value[b]?m.value[b].month:0),C=e.computed(()=>b=>m.value[b]?m.value[b].year:0);return{calendars:m,time:s,modelValue:c,month:A,year:C}},ia=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:r,defaultedHighlight:a,defaultedTz:m,propDates:s,defaultedRange:c}=fe(n),{isDisabled:A}=ze(n),C=e.ref(null),b=e.ref(Ne(new Date,m.value.timezone)),T=d=>{!d.current&&n.hideOffsetDates||(C.value=d.value)},S=()=>{C.value=null},z=d=>Array.isArray(t.value)&&c.value.enabled&&t.value[0]&&C.value?d?pe(C.value,t.value[0]):me(C.value,t.value[0]):!0,Y=(d,v)=>{const p=()=>t.value?v?t.value[0]||null:t.value[1]:null,i=t.value&&Array.isArray(t.value)?p():null;return ce(W(d.value),i)},D=d=>{const v=Array.isArray(t.value)?t.value[0]:null;return d?!me(C.value??null,v):!0},L=(d,v=!0)=>(c.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!d.current?!1:ce(W(d.value),t.value[v?0:1]):c.value.enabled?Y(d,v)&&D(v)||ce(d.value,Array.isArray(t.value)?t.value[0]:null)&&z(v):!1,P=(d,v,p)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?d?!1:p?pe(t.value[0],v.value):me(t.value[0],v.value):!1,O=d=>!t.value||n.hideOffsetDates&&!d.current?!1:c.value.enabled?n.modelAuto&&Array.isArray(t.value)?ce(d.value,t.value[0]?t.value[0]:b.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(v=>ce(v,d.value)):ce(d.value,t.value?t.value:b.value),V=d=>{if(c.value.autoRange||n.weekPicker){if(C.value){if(n.hideOffsetDates&&!d.current)return!1;const v=o.addDays(C.value,+c.value.autoRange),p=Pe(W(C.value),n.weekStart);return n.weekPicker?ce(p[1],W(d.value)):ce(v,W(d.value))}return!1}return!1},$=d=>{if(c.value.autoRange||n.weekPicker){if(C.value){const v=o.addDays(C.value,+c.value.autoRange);if(n.hideOffsetDates&&!d.current)return!1;const p=Pe(W(C.value),n.weekStart);return n.weekPicker?pe(d.value,p[0])&&me(d.value,p[1]):pe(d.value,C.value)&&me(d.value,v)}return!1}return!1},I=d=>{if(c.value.autoRange||n.weekPicker){if(C.value){if(n.hideOffsetDates&&!d.current)return!1;const v=Pe(W(C.value),n.weekStart);return n.weekPicker?ce(v[0],d.value):ce(C.value,d.value)}return!1}return!1},K=d=>ot(t.value,C.value,d.value),q=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,B=()=>n.modelAuto?Gt(n.internalModelValue):!0,ae=d=>{if(n.weekPicker)return!1;const v=c.value.enabled?!L(d)&&!L(d,!1):!0;return!A(d.value)&&!O(d)&&!(!d.current&&n.hideOffsetDates)&&v},ee=d=>c.value.enabled?n.modelAuto?q()&&O(d):!1:O(d),J=d=>a.value?Rn(d.value,s.value.highlight):!1,R=d=>{const v=A(d.value);return v&&(typeof a.value=="function"?!a.value(d.value,v):!a.value.options.highlightDisabled)},U=d=>{var v;return typeof a.value=="function"?a.value(d.value):(v=a.value.weekdays)==null?void 0:v.includes(d.value.getDay())},X=d=>(c.value.enabled||n.weekPicker)&&(!(l.value.count>0)||d.current)&&B()&&!(!d.current&&n.hideOffsetDates)&&!O(d)?K(d):!1,H=d=>{const{isRangeStart:v,isRangeEnd:p}=G(d),i=c.value.enabled?v||p:!1;return{dp__cell_offset:!d.current,dp__pointer:!n.disabled&&!(!d.current&&n.hideOffsetDates)&&!A(d.value),dp__cell_disabled:A(d.value),dp__cell_highlight:!R(d)&&(J(d)||U(d))&&!ee(d)&&!i&&!I(d)&&!(X(d)&&n.weekPicker)&&!p,dp__cell_highlight_active:!R(d)&&(J(d)||U(d))&&ee(d),dp__today:!n.noToday&&ce(d.value,b.value)&&d.current,"dp--past":me(d.value,b.value),"dp--future":pe(d.value,b.value)}},f=d=>({dp__active_date:ee(d),dp__date_hover:ae(d)}),w=d=>{if(t.value&&!Array.isArray(t.value)){const v=Pe(t.value,n.weekStart);return{...y(d),dp__range_start:ce(v[0],d.value),dp__range_end:ce(v[1],d.value),dp__range_between_week:pe(d.value,v[0])&&me(d.value,v[1])}}return{...y(d)}},h=d=>{if(t.value&&Array.isArray(t.value)){const v=Pe(t.value[0],n.weekStart),p=t.value[1]?Pe(t.value[1],n.weekStart):[];return{...y(d),dp__range_start:ce(v[0],d.value)||ce(p[0],d.value),dp__range_end:ce(v[1],d.value)||ce(p[1],d.value),dp__range_between_week:pe(d.value,v[0])&&me(d.value,v[1])||pe(d.value,p[0])&&me(d.value,p[1]),dp__range_between:pe(d.value,v[1])&&me(d.value,p[0])}}return{...y(d)}},G=d=>{const v=l.value.count>0?d.current&&L(d)&&B():L(d)&&B(),p=l.value.count>0?d.current&&L(d,!1)&&B():L(d,!1)&&B();return{isRangeStart:v,isRangeEnd:p}},N=d=>{const{isRangeStart:v,isRangeEnd:p}=G(d);return{dp__range_start:v,dp__range_end:p,dp__range_between:X(d),dp__date_hover:ae(d),dp__date_hover_start:P(ae(d),d,!0),dp__date_hover_end:P(ae(d),d,!1)}},y=d=>({...N(d),dp__cell_auto_range:$(d),dp__cell_auto_range_start:I(d),dp__cell_auto_range_end:V(d)}),j=d=>c.value.enabled?c.value.autoRange?y(d):n.modelAuto?{...f(d),...N(d)}:n.weekPicker?h(d):N(d):n.weekPicker?w(d):f(d);return{setHoverDate:T,clearHoverDate:S,getDayClassData:d=>n.hideOffsetDates&&!d.current?{}:{...H(d),...j(d),[n.dayClass?n.dayClass(d.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},ze=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:r,defaultedMultiDates:a}=fe(t),m=R=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(W(R)):!!lt(R,r.value.disabledDates):!1,s=R=>{const U=r.value.maxDate?pe(R,r.value.maxDate):!1,X=r.value.minDate?me(R,r.value.minDate):!1,H=m(R),w=n.value.months.map(j=>+j).includes(o.getMonth(R)),h=t.disabledWeekDays.length?t.disabledWeekDays.some(j=>+j===o.getDay(R)):!1,G=T(R),N=o.getYear(R),y=N<+t.yearRange[0]||N>+t.yearRange[1];return!(U||X||H||w||y||h||G)},c=(R,U)=>me(...Ve(r.value.minDate,R,U))||ce(...Ve(r.value.minDate,R,U)),A=(R,U)=>pe(...Ve(r.value.maxDate,R,U))||ce(...Ve(r.value.maxDate,R,U)),C=(R,U,X)=>{let H=!1;return r.value.maxDate&&X&&A(R,U)&&(H=!0),r.value.minDate&&!X&&c(R,U)&&(H=!0),H},b=(R,U,X,H)=>{let f=!1;return H?r.value.minDate&&r.value.maxDate?f=C(R,U,X):(r.value.minDate&&c(R,U)||r.value.maxDate&&A(R,U))&&(f=!0):f=!0,f},T=R=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!lt(R,r.value.allowedDates):!1,S=R=>!s(R),z=R=>l.value.noDisabledRange?!o.eachDayOfInterval({start:R[0],end:R[1]}).some(X=>S(X)):!0,Y=R=>{if(R){const U=o.getYear(R);return U>=+t.yearRange[0]&&U<=t.yearRange[1]}return!0},D=(R,U)=>!!(Array.isArray(R)&&R[U]&&(l.value.maxRange||l.value.minRange)&&Y(R[U])),L=(R,U,X=0)=>{if(D(U,X)&&Y(R)){const H=o.differenceInCalendarDays(R,U[X]),f=an(U[X],R),w=f.length===1?0:f.filter(G=>S(G)).length,h=Math.abs(H)-(l.value.minMaxRawRange?0:w);if(l.value.minRange&&l.value.maxRange)return h>=+l.value.minRange&&h<=+l.value.maxRange;if(l.value.minRange)return h>=+l.value.minRange;if(l.value.maxRange)return h<=+l.value.maxRange}return!0},P=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,O=R=>Array.isArray(R)?[R[0]?$t(R[0]):null,R[1]?$t(R[1]):null]:$t(R),V=(R,U,X)=>R.find(H=>+H.hours===o.getHours(U)&&H.minutes==="*"?!0:+H.minutes===o.getMinutes(U)&&+H.hours===o.getHours(U))&&X,$=(R,U,X)=>{const[H,f]=R,[w,h]=U;return!V(H,w,X)&&!V(f,h,X)&&X},I=(R,U)=>{const X=Array.isArray(U)?U:[U];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?$(t.disabledTimes,X,R):!X.some(H=>V(t.disabledTimes,H,R)):R},K=(R,U)=>{const X=Array.isArray(U)?[Le(U[0]),U[1]?Le(U[1]):void 0]:Le(U),H=!t.disabledTimes(X);return R&&H},q=(R,U)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(U,R):K(U,R):U,B=R=>{let U=!0;if(!R||P())return!0;const X=!r.value.minDate&&!r.value.maxDate?O(R):R;return(t.maxTime||r.value.maxDate)&&(U=sn(t.maxTime,r.value.maxDate,"max",ye(X),U)),(t.minTime||r.value.minDate)&&(U=sn(t.minTime,r.value.minDate,"min",ye(X),U)),q(R,U)},ae=R=>{if(!t.monthPicker)return!0;let U=!0;const X=W(Ce(R));if(r.value.minDate&&r.value.maxDate){const H=W(Ce(r.value.minDate)),f=W(Ce(r.value.maxDate));return pe(X,H)&&me(X,f)||ce(X,H)||ce(X,f)}if(r.value.minDate){const H=W(Ce(r.value.minDate));U=pe(X,H)||ce(X,H)}if(r.value.maxDate){const H=W(Ce(r.value.maxDate));U=me(X,H)||ce(X,H)}return U},ee=e.computed(()=>R=>!t.enableTimePicker||t.ignoreTimeValidation?!0:B(R)),J=e.computed(()=>R=>t.monthPicker?Array.isArray(R)&&(l.value.enabled||a.value.enabled)?!R.filter(X=>!ae(X)).length:ae(R):!0);return{isDisabled:S,validateDate:s,validateMonthYearInRange:b,isDateRangeAllowed:z,checkMinMaxRange:L,isValidTime:B,isTimeValid:ee,isMonthValid:J}},ut=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),l=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},ua=(t,n,l)=>{const r=e.ref(0),a=e.reactive({[He.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[He.calendar]:!1,[He.header]:!1}),m=e.computed(()=>t.monthPicker),s=T=>{var S;if((S=t.flow)!=null&&S.length){if(!T&&m.value)return b();a[T]=!0,Object.keys(a).filter(z=>!a[z]).length||b()}},c=()=>{var T;(T=t.flow)!=null&&T.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),b())},A=()=>{r.value=-1},C=(T,S,...z)=>{var Y,D;t.flow[r.value]===T&&l.value&&((D=(Y=l.value)[S])==null||D.call(Y,...z))},b=()=>{C($e.month,"toggleMonthPicker",!0),C($e.year,"toggleYearPicker",!0),C($e.calendar,"toggleTimePicker",!1,!0),C($e.time,"toggleTimePicker",!0,!0);const T=t.flow[r.value];(T===$e.hours||T===$e.minutes||T===$e.seconds)&&C(T,"toggleTimePicker",!0,!0,T)};return{childMount:s,updateFlowStep:c,resetFlow:A,flowStep:r}},ct={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},Te={...ct,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},ca={key:1,class:"dp__input_wrap"},da=["name","inputmode","placeholder","disabled","readonly","required","autocomplete","aria-label","aria-disabled","aria-invalid"],fa={key:1,class:"dp__clear_icon"},ma=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ct},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTextInput:m,defaultedAriaLabels:s,defaultedInline:c,defaultedConfig:A,defaultedRange:C,defaultedMultiDates:b,getDefaultPattern:T,getDefaultStartTime:S}=fe(a),{checkMinMaxRange:z}=ze(a),Y=e.ref(),D=e.ref(null),L=e.ref(!1),P=e.ref(!1),O=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!m.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!m.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:L.value||a.isMenuOpen,dp__input_reg:!m.value.enabled,[a.inputClassName]:!!a.inputClassName})),V=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),Y.value=null)},$=h=>{const G=S();return Nn(h,m.value.format??T(),G??rn({},a.enableSeconds),a.inputValue,P.value,a.formatLocale)},I=h=>{const{rangeSeparator:G}=m.value,[N,y]=h.split(`${G}`);if(N){const j=$(N.trim()),Z=y?$(y.trim()):null,d=j&&Z?[j,Z]:[j];z(Z,d,0)&&(Y.value=j?d:null)}},K=()=>{P.value=!0},q=h=>{if(C.value.enabled)I(h);else if(b.value.enabled){const G=h.split(";");Y.value=G.map(N=>$(N.trim())).filter(N=>N)}else Y.value=$(h)},B=h=>{var N;const G=typeof h=="string"?h:(N=h.target)==null?void 0:N.value;G!==""?(m.value.openMenu&&!a.isMenuOpen&&r("open"),q(G),r("set-input-date",Y.value)):V(),P.value=!1,r("update:input-value",G)},ae=h=>{m.value.enabled?(q(h.target.value),m.value.enterSubmit&&Ct(Y.value)&&a.inputValue!==""?(r("set-input-date",Y.value,!0),Y.value=null):m.value.enterSubmit&&a.inputValue===""&&(Y.value=null,r("clear"))):R(h)},ee=h=>{m.value.enabled&&m.value.tabSubmit&&q(h.target.value),m.value.tabSubmit&&Ct(Y.value)&&a.inputValue!==""?(r("set-input-date",Y.value,!0,!0),Y.value=null):m.value.tabSubmit&&a.inputValue===""&&(Y.value=null,r("clear",!0))},J=()=>{L.value=!0,r("focus"),e.nextTick().then(()=>{var h;m.value.enabled&&m.value.selectOnFocus&&((h=D.value)==null||h.select())})},R=h=>{h.preventDefault(),_e(h,A.value,!0),m.value.enabled&&m.value.openMenu&&!c.value.input&&!a.isMenuOpen?r("open"):m.value.enabled||r("toggle")},U=()=>{r("real-blur"),L.value=!1,(!a.isMenuOpen||c.value.enabled&&c.value.input)&&r("blur"),a.autoApply&&m.value.enabled&&Y.value&&!a.isMenuOpen&&(r("set-input-date",Y.value),r("select-date"),Y.value=null)},X=h=>{_e(h,A.value,!0),r("clear")},H=h=>{if(!m.value.enabled){if(h.code==="Tab")return;h.preventDefault()}};return n({focusInput:()=>{var h;(h=D.value)==null||h.focus({preventScroll:!0})},setParsedDate:h=>{Y.value=h}}),(h,G)=>{var N;return e.openBlock(),e.createElementBlock("div",{onClick:R},[h.$slots.trigger&&!h.$slots["dp-input"]&&!e.unref(c).enabled?e.renderSlot(h.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!h.$slots.trigger&&(!e.unref(c).enabled||e.unref(c).input)?(e.openBlock(),e.createElementBlock("div",ca,[h.$slots["dp-input"]&&!h.$slots.trigger&&(!e.unref(c).enabled||e.unref(c).enabled&&e.unref(c).input)?e.renderSlot(h.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:B,onEnter:ae,onTab:ee,onClear:X,onBlur:U,onKeypress:H,onPaste:K,openMenu:()=>h.$emit("open"),closeMenu:()=>h.$emit("close"),toggleMenu:()=>h.$emit("toggle")}):e.createCommentVNode("",!0),e.createElementVNode("button",{ref_key:"inputRef",ref:D,name:h.name,class:e.normalizeClass(O.value),inputmode:e.unref(m).enabled?"text":"none",placeholder:h.placeholder,disabled:h.disabled,readonly:h.readonly,required:h.required,autocomplete:h.autocomplete,"aria-label":(N=e.unref(s))==null?void 0:N.input,"aria-disabled":h.disabled||void 0,"aria-invalid":h.state===!1?!0:void 0,onInput:B,onKeydown:[e.withKeys(ae,["enter"]),e.withKeys(ee,["tab"]),H],onBlur:U,onFocus:J,onKeypress:H,onPaste:K,style:{height:"48px",color:"#707070",border:"none"}}," Schedule For ",42,da),h.$slots["clear-icon"]&&t.inputValue&&h.clearable&&!h.disabled&&!h.readonly?(e.openBlock(),e.createElementBlock("span",fa,[e.renderSlot(h.$slots,"clear-icon",{clear:X})])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),pa=["title"],ga=["disabled"],ya=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Te},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:m,defaultedMultiCalendars:s,defaultedTextInput:c,defaultedInline:A,defaultedRange:C,defaultedMultiDates:b,getDefaultPattern:T}=fe(r),{isTimeValid:S,isMonthValid:z}=ze(r),{buildMatrix:Y}=Oe(),D=e.ref(null),L=e.ref(null),P=e.ref(!1),O=e.ref({}),V=e.ref(null),$=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&Y([he(D),he(L)],"actionRow"),I(),window.addEventListener("resize",I)}),e.onUnmounted(()=>{window.removeEventListener("resize",I)});const I=()=>{P.value=!1,setTimeout(()=>{var w,h;const H=(w=V.value)==null?void 0:w.getBoundingClientRect(),f=(h=$.value)==null?void 0:h.getBoundingClientRect();H&&f&&(O.value.maxWidth=`${f.width-H.width-20}px`),P.value=!0},0)},K=e.computed(()=>C.value.enabled&&!C.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),q=e.computed(()=>!S.value(r.internalModelValue)||!z.value(r.internalModelValue)||!K.value),B=()=>{const H=m.value;return r.timePicker||r.monthPicker,H(ye(r.internalModelValue))},ae=()=>{const H=r.internalModelValue;return s.value.count>0?`${ee(H[0])} - ${ee(H[1])}`:[ee(H[0]),ee(H[1])]},ee=H=>on(H,m.value,r.formatLocale,c.value.rangeSeparator,r.modelAuto,T()),J=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof m.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?ae():b.value.enabled?r.internalModelValue.map(H=>`${ee(H)}`):r.modelAuto?`${ee(r.internalModelValue[0])}`:`${ee(r.internalModelValue[0])} -`:ee(r.internalModelValue):B()),R=()=>b.value.enabled?"; ":" - ",U=e.computed(()=>Array.isArray(J.value)?J.value.join(R()):J.value),X=()=>{S.value(r.internalModelValue)&&z.value(r.internalModelValue)&&K.value?l("select-date"):l("invalid-select")};return(H,f)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:$,class:"dp__action_row"},[H.$slots["action-row"]?e.renderSlot(H.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:H.internalModelValue,disabled:q.value,selectDate:()=>H.$emit("select-date"),closePicker:()=>H.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:U.value,style:e.normalizeStyle(O.value)},[H.$slots["action-preview"]&&P.value?e.renderSlot(H.$slots,"action-preview",{key:0,value:H.internalModelValue}):e.createCommentVNode("",!0),!H.$slots["action-preview"]&&P.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(U.value),1)],64)):e.createCommentVNode("",!0)],12,pa)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:V,class:"dp__action_buttons","data-dp-element":"action-row"},[H.$slots["action-buttons"]?e.renderSlot(H.$slots,"action-buttons",{key:0,value:H.internalModelValue}):e.createCommentVNode("",!0),H.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(A).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:D,type:"button",class:"dp__action_button dp__action_cancel",onClick:f[0]||(f[0]=w=>H.$emit("close-picker")),onKeydown:[f[1]||(f[1]=e.withKeys(w=>H.$emit("close-picker"),["enter"])),f[2]||(f[2]=e.withKeys(w=>H.$emit("close-picker"),["space"]))]},e.toDisplayString(H.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:f[3]||(f[3]=w=>H.$emit("select-now")),onKeydown:[f[4]||(f[4]=e.withKeys(w=>H.$emit("select-now"),["enter"])),f[5]||(f[5]=e.withKeys(w=>H.$emit("select-now"),["space"]))]},e.toDisplayString(H.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:L,type:"button",class:"dp__action_button dp__action_select",disabled:q.value,onKeydown:[e.withKeys(X,["enter"]),e.withKeys(X,["space"])],onClick:X},e.toDisplayString(H.selectText),41,ga)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),ha=["onKeydown"],ka={class:"dp__selection_grid_header"},ba=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],wa=["aria-label"],tt=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:m}=Oe(),s=l,c=t,{defaultedAriaLabels:A,defaultedTextInput:C,defaultedConfig:b}=fe(c),{hideNavigationButtons:T}=ut(),S=e.ref(!1),z=e.ref(null),Y=e.ref(null),D=e.ref([]),L=e.ref(),P=e.ref(null),O=e.ref(0),V=e.ref(null);e.onBeforeUpdate(()=>{z.value=null}),e.onMounted(()=>{e.nextTick().then(()=>J()),c.noOverlayFocus||I(),$(!0)}),e.onUnmounted(()=>$(!1));const $=N=>{var y;c.arrowNavigation&&((y=c.headerRefs)!=null&&y.length?m(N):r(N))},I=()=>{var y;const N=he(Y);N&&(C.value.enabled||(z.value?(y=z.value)==null||y.focus({preventScroll:!0}):N.focus({preventScroll:!0})),S.value=N.clientHeight<N.scrollHeight)},K=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!c.useRelative,"dp--overlay-relative":c.useRelative})),q=e.computed(()=>c.useRelative?{height:`${c.height}px`,width:"260px"}:void 0),B=e.computed(()=>({dp__overlay_col:!0})),ae=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:S.value,dp__button_bottom:c.isLast})),ee=e.computed(()=>{var N,y;return{dp__overlay_container:!0,dp__container_flex:((N=c.items)==null?void 0:N.length)<=6,dp__container_block:((y=c.items)==null?void 0:y.length)>6}});e.watch(()=>c.items,()=>J(!1),{deep:!0});const J=(N=!0)=>{e.nextTick().then(()=>{const y=he(z),j=he(Y),Z=he(P),d=he(V),v=Z?Z.getBoundingClientRect().height:0;j&&(j.getBoundingClientRect().height?O.value=j.getBoundingClientRect().height-v:O.value=b.value.modeHeight-v),y&&d&&N&&(d.scrollTop=y.offsetTop-d.offsetTop-(O.value/2-y.getBoundingClientRect().height)-v)})},R=N=>{N.disabled||s("selected",N.value)},U=()=>{s("toggle"),s("reset-flow")},X=()=>{c.escClose&&U()},H=(N,y,j,Z)=>{N&&((y.active||y.value===c.focusValue)&&(z.value=N),c.arrowNavigation&&(Array.isArray(D.value[j])?D.value[j][Z]=N:D.value[j]=[N],f()))},f=()=>{var y,j;const N=(y=c.headerRefs)!=null&&y.length?[c.headerRefs].concat(D.value):D.value.concat([c.skipButtonRef?[]:[P.value]]);a(ye(N),(j=c.headerRefs)!=null&&j.length?"monthPicker":"selectionGrid")},w=N=>{c.arrowNavigation||_e(N,b.value,!0)},h=N=>{L.value=N,s("hover-value",N)},G=()=>{if(U(),!c.isLast){const N=Pn(c.menuWrapRef??null,"action-row");if(N){const y=Zt(N);y==null||y.focus()}}};return n({focusGrid:I}),(N,y)=>{var j;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:Y,class:e.normalizeClass(K.value),style:e.normalizeStyle(q.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(X,["prevent"]),["esc"]),y[0]||(y[0]=e.withKeys(e.withModifiers(Z=>w(Z),["prevent"]),["left"])),y[1]||(y[1]=e.withKeys(e.withModifiers(Z=>w(Z),["prevent"]),["up"])),y[2]||(y[2]=e.withKeys(e.withModifiers(Z=>w(Z),["prevent"]),["down"])),y[3]||(y[3]=e.withKeys(e.withModifiers(Z=>w(Z),["prevent"]),["right"]))]},[e.createElementVNode("div",{ref_key:"containerRef",ref:V,class:e.normalizeClass(ee.value),role:"grid",style:e.normalizeStyle({height:`${O.value}px`})},[e.createElementVNode("div",ka,[e.renderSlot(N.$slots,"header")]),N.$slots.overlay?e.renderSlot(N.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(N.items,(Z,d)=>(e.openBlock(),e.createElementBlock("div",{key:d,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:N.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Z,(v,p)=>(e.openBlock(),e.createElementBlock("div",{key:v.value,ref_for:!0,ref:i=>H(i,v,d,p),role:"gridcell",class:e.normalizeClass(B.value),"aria-selected":v.active||void 0,"aria-disabled":v.disabled||void 0,tabindex:"0",onClick:i=>R(v),onKeydown:[e.withKeys(e.withModifiers(i=>R(v),["prevent"]),["enter"]),e.withKeys(e.withModifiers(i=>R(v),["prevent"]),["space"])],onMouseover:i=>h(v.value)},[e.createElementVNode("div",{class:e.normalizeClass(v.className)},[N.$slots.item?e.renderSlot(N.$slots,"item",{key:0,item:v}):e.createCommentVNode("",!0),N.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(v.text),1)],64))],2)],42,ba))),128))],2))),128))],6),N.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:P,type:"button","aria-label":(j=e.unref(A))==null?void 0:j.toggleOverlay,class:e.normalizeClass(ae.value),tabindex:"0",onClick:U,onKeydown:[e.withKeys(U,["enter"]),e.withKeys(G,["tab"])]},[e.renderSlot(N.$slots,"button-icon")],42,wa)),[[e.vShow,!e.unref(T)(N.hideNavigation,N.type)]]):e.createCommentVNode("",!0)],46,ha)}}}),dt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(s,c)=>(e.openBlock(),e.createElementBlock("div",{key:s,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:s,index:c})],2))),128))],2))}}),va=["aria-label","aria-disabled"],nt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,r=e.ref(null);return e.onMounted(()=>l("set-ref",r)),(a,m)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:m[0]||(m[0]=s=>a.$emit("activate")),onKeydown:[m[1]||(m[1]=e.withKeys(e.withModifiers(s=>a.$emit("activate"),["prevent"]),["enter"])),m[2]||(m[2]=e.withKeys(e.withModifiers(s=>a.$emit("activate"),["prevent"]),["space"]))]},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,va))}}),Ma={class:"dp--year-mode-picker"},Sa=["aria-label"],pn=e.defineComponent({__name:"YearModePicker",props:{...Te,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,r=t,{showRightIcon:a,showLeftIcon:m}=ut(),{defaultedConfig:s,defaultedMultiCalendars:c,defaultedAriaLabels:A,defaultedTransitions:C}=fe(r),{showTransition:b,transitionName:T}=Fe(C),S=(D=!1,L)=>{l("toggle-year-picker",{flow:D,show:L})},z=D=>{l("year-select",D)},Y=(D=!1)=>{l("handle-year",D)};return(D,L)=>{var P,O,V;return e.openBlock(),e.createElementBlock("div",Ma,[e.unref(m)(e.unref(c),t.instance)?(e.openBlock(),e.createBlock(nt,{key:0,ref:"mpPrevIconRef","aria-label":(P=e.unref(A))==null?void 0:P.prevYear,disabled:t.isDisabled(!1),onActivate:L[0]||(L[0]=$=>Y(!1))},{default:e.withCtx(()=>[D.$slots["arrow-left"]?e.renderSlot(D.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(gt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(O=e.unref(A))==null?void 0:O.openYearsOverlay,onClick:L[1]||(L[1]=()=>S(!1)),onKeydown:L[2]||(L[2]=e.withKeys(()=>S(!1),["enter"]))},[D.$slots.year?e.renderSlot(D.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),D.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Sa),e.unref(a)(e.unref(c),t.instance)?(e.openBlock(),e.createBlock(nt,{key:1,ref:"mpNextIconRef","aria-label":(V=e.unref(A))==null?void 0:V.nextYear,disabled:t.isDisabled(!0),onActivate:L[3]||(L[3]=$=>Y(!0))},{default:e.withCtx(()=>[D.$slots["arrow-right"]?e.renderSlot(D.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(yt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(T)(t.showYearPicker),css:e.unref(b)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(tt,{key:0,items:t.items,"text-input":D.textInput,"esc-close":D.escClose,config:D.config,"is-last":D.autoApply&&!e.unref(s).keepActionRow,"hide-navigation":D.hideNavigation,"aria-labels":D.ariaLabels,type:"year",onToggle:S,onSelected:L[4]||(L[4]=$=>z($))},e.createSlots({"button-icon":e.withCtx(()=>[D.$slots["calendar-icon"]?e.renderSlot(D.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),D.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[D.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:$})=>[e.renderSlot(D.$slots,"year-overlay-value",{text:$.text,value:$.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Vt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ce(t,r))){const r=n.value.filter(a=>!ce(a,t));n.value=r.length?r:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Ot=(t,n,l)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?me(n,r[0])?(r.unshift(n),l("range-start",r[0]),l("range-start",r[1])):(r[1]=n,l("range-end",n)):(r=[n],l("range-start",n)),r},ft=(t,n,l,r)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&r&&l&&n("auto-apply"))},gn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ne(W(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ne(W(t.value),t.timezone))},yn=(t,n,l,r)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(pe(t,n.value[0])||ce(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(me(t,n.value[1])||ce(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],hn=({multiCalendars:t,highlight:n,propDates:l,calendars:r,modelValue:a,props:m,filters:s,year:c,month:A,emit:C})=>{const b=e.computed(()=>wt(m.yearRange,m.locale,m.reverseYears)),T=e.ref([!1]),S=e.computed(()=>(K,q)=>{const B=o.set(Ce(new Date),{month:A.value(K),year:c.value(K)});return ln(B,l.value.maxDate,l.value.minDate,m.preventMinMaxNavigation,q)}),z=()=>{for(let K=0;K<t.value.count;K++)if(K===0)r.value[K]=r.value[0];else{const q=o.set(W(),r.value[K-1]);r.value[K]={month:o.getMonth(q),year:o.getYear(o.addYears(q,1))}}},Y=K=>{if(!K)return z();const q=o.set(W(),r.value[K]);return r.value[0].year=o.getYear(o.subYears(q,t.value.count-1)),z()},D=K=>m.focusStartDate?K[0]:K[1]?K[1]:K[0],L=()=>{if(a.value){const K=Array.isArray(a.value)?D(a.value):a.value;r.value[0]={month:o.getMonth(K),year:o.getYear(K)}}};e.onMounted(()=>{L(),t.value.count&&z()});const P=(K,q)=>{r.value[q].year=K,t.value.count&&!t.value.solo&&Y(q)},O=e.computed(()=>K=>je(b.value,q=>{var J;const B=c.value(K)===q.value,ae=Je(q.value,qe(l.value.minDate),qe(l.value.maxDate))||((J=s.value.years)==null?void 0:J.includes(c.value(K))),ee=At(n.value,q.value);return{active:B,disabled:ae,highlighted:ee}})),V=(K,q)=>{P(K,q),I(q)},$=(K,q=!1)=>{if(!S.value(K,q)){const B=q?c.value(K)+1:c.value(K)-1;P(B,K)}},I=(K,q=!1,B)=>{q||C("reset-flow"),B!==void 0?T.value[K]=B:T.value[K]=!T.value[K],T.value||C("overlay-closed")};return{isDisabled:S,groupedYears:O,showYearPicker:T,selectYear:P,toggleYearPicker:I,handleYearSelect:V,handleYear:$}},Da=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,defaultedRange:s,defaultedHighlight:c,propDates:A,defaultedTz:C,defaultedFilters:b,defaultedMultiDates:T}=fe(t),{modelValue:S,year:z,month:Y,calendars:D}=et(t,n),L=e.computed(()=>Qt(t.formatLocale,t.locale,t.monthNameFormat)),P=e.ref(null),{checkMinMaxRange:O}=ze(t),{selectYear:V,groupedYears:$,showYearPicker:I,toggleYearPicker:K,handleYearSelect:q,handleYear:B,isDisabled:ae}=hn({modelValue:S,multiCalendars:l,highlight:c,calendars:D,year:z,propDates:A,month:Y,filters:b,props:t,emit:n});e.onMounted(()=>{t.startDate&&(S.value&&t.focusStartDate||!S.value)&&V(o.getYear(W(t.startDate)),0)});const ee=v=>v?{month:o.getMonth(v),year:o.getYear(v)}:{month:null,year:null},J=()=>S.value?Array.isArray(S.value)?S.value.map(v=>ee(v)):ee(S.value):ee(),R=(v,p)=>{const i=D.value[v],E=J();return Array.isArray(E)?E.some(u=>u.year===(i==null?void 0:i.year)&&u.month===p):(i==null?void 0:i.year)===E.year&&p===E.month},U=(v,p,i)=>{var u,g;const E=J();return Array.isArray(E)?z.value(p)===((u=E[i])==null?void 0:u.year)&&v===((g=E[i])==null?void 0:g.month):!1},X=(v,p)=>{if(s.value.enabled){const i=J();if(Array.isArray(S.value)&&Array.isArray(i)){const E=U(v,p,0)||U(v,p,1),u=Re(Ce(W()),v,z.value(p));return ot(S.value,P.value,u)&&!E}return!1}return!1},H=e.computed(()=>v=>je(L.value,p=>{var le;const i=R(v,p.value),E=Je(p.value,tn(z.value(v),A.value.minDate),nn(z.value(v),A.value.maxDate))||In(A.value.disabledDates,z.value(v)).includes(p.value)||((le=b.value.months)==null?void 0:le.includes(p.value)),u=X(p.value,v),g=un(c.value,p.value,z.value(v));return{active:i,disabled:E,isBetween:u,highlighted:g}})),f=(v,p)=>Re(Ce(W()),v,z.value(p)),w=(v,p)=>{const i=S.value?S.value:Ce(new Date);S.value=Re(i,v,z.value(p)),n("auto-apply"),n("update-flow-step")},h=(v,p)=>{const i=f(v,p);s.value.fixedEnd||s.value.fixedStart?S.value=yn(i,S,n,s):S.value?O(i,S.value)&&(S.value=Ot(S,f(v,p),n)):S.value=[f(v,p)],e.nextTick().then(()=>{ft(S.value,n,t.autoApply,t.modelAuto)})},G=(v,p)=>{Vt(f(v,p),S,T.value.limit),n("auto-apply",!0)},N=(v,p)=>(D.value[p].month=v,j(p,D.value[p].year,v),T.value.enabled?G(v,p):s.value.enabled?h(v,p):w(v,p)),y=(v,p)=>{V(v,p),j(p,v,null)},j=(v,p,i)=>{let E=i;if(!E&&E!==0){const u=J();E=Array.isArray(u)?u[v].month:u.month}n("update-month-year",{instance:v,year:p,month:E})};return{groupedMonths:H,groupedYears:$,year:z,isDisabled:ae,defaultedMultiCalendars:l,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,showYearPicker:I,modelValue:S,presetDate:(v,p)=>{gn({value:v,modelValue:S,range:s.value.enabled,timezone:p?void 0:C.value.timezone}),n("auto-apply")},setHoverDate:(v,p)=>{P.value=f(v,p)},selectMonth:N,selectYear:y,toggleYearPicker:K,handleYearSelect:q,handleYear:B,getModelMonthYear:J}},Ca=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Te},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(t,{expose:n,emit:l}){const r=l,a=e.useSlots(),m=Se(a,"yearMode"),s=t;e.onMounted(()=>{s.shadow||r("mount",null)});const{groupedMonths:c,groupedYears:A,year:C,isDisabled:b,defaultedMultiCalendars:T,defaultedConfig:S,showYearPicker:z,modelValue:Y,presetDate:D,setHoverDate:L,selectMonth:P,selectYear:O,toggleYearPicker:V,handleYearSelect:$,handleYear:I,getModelMonthYear:K}=Da(s,r);return n({getSidebarProps:()=>({modelValue:Y,year:C,getModelMonthYear:K,selectMonth:P,selectYear:O,handleYear:I}),presetDate:D,toggleYearPicker:B=>V(0,B)}),(B,ae)=>(e.openBlock(),e.createBlock(dt,{"multi-calendars":e.unref(T).count,collapse:B.collapse,stretch:""},{default:e.withCtx(({instance:ee})=>[B.$slots["month-year"]?e.renderSlot(B.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{year:e.unref(C),months:e.unref(c)(ee),years:e.unref(A)(ee),selectMonth:e.unref(P),selectYear:e.unref(O),instance:ee}))):(e.openBlock(),e.createBlock(tt,{key:1,items:e.unref(c)(ee),"arrow-navigation":B.arrowNavigation,"is-last":B.autoApply&&!e.unref(S).keepActionRow,"esc-close":B.escClose,height:e.unref(S).modeHeight,config:B.config,"no-overlay-focus":!!(B.noOverlayFocus||B.textInput),"use-relative":"",type:"month",onSelected:J=>e.unref(P)(J,ee),onHoverValue:J=>e.unref(L)(J,ee)},{header:e.withCtx(()=>[e.createVNode(pn,e.mergeProps(B.$props,{items:e.unref(A)(ee),instance:ee,"show-year-picker":e.unref(z)[ee],year:e.unref(C)(ee),"is-disabled":J=>e.unref(b)(ee,J),onHandleYear:J=>e.unref(I)(ee,J),onYearSelect:J=>e.unref($)(J,ee),onToggleYearPicker:J=>e.unref(V)(ee,J==null?void 0:J.flow,J==null?void 0:J.show)}),e.createSlots({_:2},[e.renderList(e.unref(m),(J,R)=>({name:J,fn:e.withCtx(U=>[e.renderSlot(B.$slots,J,e.normalizeProps(e.guardReactiveProps(U)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Ba=(t,n)=>{const{modelValue:l}=et(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedMultiDates:m,defaultedFilters:s,defaultedRange:c,propDates:A}=fe(t),C=e.ref();e.onMounted(()=>{t.startDate&&(l.value&&t.focusStartDate||!l.value)&&(C.value=o.getYear(W(t.startDate)))});const b=L=>Array.isArray(l.value)?l.value.some(P=>o.getYear(P)===L):l.value?o.getYear(l.value)===L:!1,T=L=>c.value.enabled&&Array.isArray(l.value)?ot(l.value,r.value,z(L)):!1,S=e.computed(()=>je(wt(t.yearRange,t.locale,t.reverseYears),L=>{const P=b(L.value),O=Je(L.value,qe(A.value.minDate),qe(A.value.maxDate))||s.value.years.includes(L.value),V=T(L.value)&&!P,$=At(a.value,L.value);return{active:P,disabled:O,isBetween:V,highlighted:$}})),z=L=>o.setYear(Ce(new Date),L);return{groupedYears:S,modelValue:l,focusYear:C,setHoverValue:L=>{r.value=o.setYear(Ce(new Date),L)},selectYear:L=>{var P;if(n("update-month-year",{instance:0,year:L}),m.value.enabled)return l.value?Array.isArray(l.value)&&(((P=l.value)==null?void 0:P.map(V=>o.getYear(V))).includes(L)?l.value=l.value.filter(V=>o.getYear(V)!==L):l.value.push(o.setYear(Me(W()),L))):l.value=[o.setYear(Me(W()),L)],n("auto-apply",!0);c.value.enabled?(l.value=Ot(l,z(L),n),e.nextTick().then(()=>{ft(l.value,n,t.autoApply,t.modelAuto)})):(l.value=z(L),n("auto-apply"))}}},Ta=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const r=l,a=t,{groupedYears:m,modelValue:s,focusYear:c,selectYear:A,setHoverValue:C}=Ba(a,r),{defaultedConfig:b}=fe(a);return n({getSidebarProps:()=>({modelValue:s,selectYear:A})}),(S,z)=>(e.openBlock(),e.createElementBlock("div",null,[S.$slots["month-year"]?e.renderSlot(S.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{years:e.unref(m),selectYear:e.unref(A)}))):(e.openBlock(),e.createBlock(tt,{key:1,items:e.unref(m),"is-last":S.autoApply&&!e.unref(b).keepActionRow,height:e.unref(b).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"focus-value":e.unref(c),type:"year","use-relative":"",onSelected:e.unref(A),onHoverValue:e.unref(C)},e.createSlots({_:2},[S.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Y})=>[e.renderSlot(S.$slots,"year-overlay-value",{text:Y.text,value:Y.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),$a={key:0,class:"dp__time_input"},Aa=["aria-label","onKeydown","onClick"],Pa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ra=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Na=["aria-label","disabled","onKeydown","onClick"],Ea=["aria-label","onKeydown","onClick"],_a=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ya=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Va={key:0},Oa=["aria-label","onKeydown"],Ia=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Te},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{setTimePickerElements:m,setTimePickerBackRef:s}=Oe(),{defaultedAriaLabels:c,defaultedTransitions:A,defaultedFilters:C,defaultedConfig:b,defaultedRange:T}=fe(a),{transitionName:S,showTransition:z}=Fe(A),Y=e.reactive({hours:!1,minutes:!1,seconds:!1}),D=e.ref("AM"),L=e.ref(null),P=e.ref([]);e.onMounted(()=>{r("mounted")});const O=u=>o.set(new Date,{hours:u.hours,minutes:u.minutes,seconds:a.enableSeconds?u.seconds:0,milliseconds:0}),V=e.computed(()=>u=>H(u,a[u])||I(u,a[u])),$=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),I=(u,g)=>T.value.enabled&&!T.value.disableTimeRangeValidation?!a.validateTime(u,g):!1,K=(u,g)=>{if(T.value.enabled&&!T.value.disableTimeRangeValidation){const le=g?+a[`${u}Increment`]:-+a[`${u}Increment`],F=a[u]+le;return!a.validateTime(u,F)}return!1},q=e.computed(()=>u=>!G(+a[u]+ +a[`${u}Increment`],u)||K(u,!0)),B=e.computed(()=>u=>!G(+a[u]-+a[`${u}Increment`],u)||K(u,!1)),ae=(u,g)=>o.add(o.set(W(),u),g),ee=(u,g)=>o.sub(o.set(W(),u),g),J=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),R=e.computed(()=>{const u=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return a.enableSeconds?u.concat([{type:"",separator:!0},{type:"seconds"}]):u}),U=e.computed(()=>R.value.filter(u=>!u.separator)),X=e.computed(()=>u=>{if(u==="hours"){const g=d(+a.hours);return{text:g<10?`0${g}`:`${g}`,value:g}}return{text:a[u]<10?`0${a[u]}`:`${a[u]}`,value:a[u]}}),H=(u,g)=>{var F;if(!a.disabledTimesConfig)return!1;const le=a.disabledTimesConfig(a.order,u==="hours"?g:void 0);return le[u]?!!((F=le[u])!=null&&F.includes(g)):!0},f=u=>{const g=a.is24?24:12,le=u==="hours"?g:60,F=+a[`${u}GridIncrement`],M=u==="hours"&&!a.is24?F:0,x=[];for(let ie=M;ie<le;ie+=F)x.push({value:ie,text:ie<10?`0${ie}`:`${ie}`});return u==="hours"&&!a.is24&&x.push({value:0,text:"12"}),je(x,ie=>({active:!1,disabled:C.value.times[u].includes(ie.value)||!G(ie.value,u)||H(u,ie.value)||I(u,ie.value)}))},w=u=>u>=0?u:59,h=u=>u>=0?u:23,G=(u,g)=>{const le=a.minTime?O(Dt(a.minTime)):null,F=a.maxTime?O(Dt(a.maxTime)):null,M=O(Dt($.value,g,g==="minutes"||g==="seconds"?w(u):h(u)));return le&&F?(o.isBefore(M,F)||o.isEqual(M,F))&&(o.isAfter(M,le)||o.isEqual(M,le)):le?o.isAfter(M,le)||o.isEqual(M,le):F?o.isBefore(M,F)||o.isEqual(M,F):!0},N=u=>a[`no${u[0].toUpperCase()+u.slice(1)}Overlay`],y=u=>{N(u)||(Y[u]=!Y[u],Y[u]||r("overlay-closed"))},j=u=>u==="hours"?o.getHours:u==="minutes"?o.getMinutes:o.getSeconds,Z=(u,g=!0)=>{const le=g?ae:ee,F=g?+a[`${u}Increment`]:-+a[`${u}Increment`];G(+a[u]+F,u)&&r(`update:${u}`,j(u)(le({[u]:+a[u]},{[u]:+a[`${u}Increment`]})))},d=u=>a.is24?u:(u>=12?D.value="PM":D.value="AM",Cn(u)),v=()=>{D.value==="PM"?(D.value="AM",r("update:hours",a.hours-12)):(D.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",D.value)},p=u=>{Y[u]=!0},i=(u,g,le)=>{if(u&&a.arrowNavigation){Array.isArray(P.value[g])?P.value[g][le]=u:P.value[g]=[u];const F=P.value.reduce((M,x)=>x.map((ie,re)=>[...M[re]||[],x[re]]),[]);s(a.closeTimePickerBtn),L.value&&(F[1]=F[1].concat(L.value)),m(F,a.order)}},E=(u,g)=>(y(u),u==="hours"&&!a.is24?r(`update:${u}`,D.value==="PM"?g+12:g):r(`update:${u}`,g));return n({openChildCmp:p}),(u,g)=>{var le;return u.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",$a,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R.value,(F,M)=>{var x,ie,re;return e.openBlock(),e.createElementBlock("div",{key:M,class:e.normalizeClass(J.value)},[F.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:ue=>i(ue,M,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!u.timePickerInline,dp__inc_dec_button_inline:u.timePickerInline,dp__tp_inline_btn_top:u.timePickerInline,dp__inc_dec_button_disabled:q.value(F.type)}),"aria-label":(x=e.unref(c))==null?void 0:x.incrementValue(F.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(ue=>Z(F.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(ue=>Z(F.type),["prevent"]),["space"])],onClick:ue=>Z(F.type)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Pa,Ra],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))],64))],42,Aa),e.createElementVNode("button",{ref_for:!0,ref:ue=>i(ue,M,1),type:"button","aria-label":(ie=e.unref(c))==null?void 0:ie.openTpOverlay(F.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!u.timePickerInline,dp__time_display_inline:u.timePickerInline,"dp--time-invalid":V.value(F.type),"dp--time-overlay-btn":!V.value(F.type)}),disabled:N(F.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(ue=>y(F.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(ue=>y(F.type),["prevent"]),["space"])],onClick:ue=>y(F.type)},[u.$slots[F.type]?e.renderSlot(u.$slots,F.type,{key:0,text:X.value(F.type).text,value:X.value(F.type).value}):e.createCommentVNode("",!0),u.$slots[F.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(X.value(F.type).text),1)],64))],42,Na),e.createElementVNode("button",{ref_for:!0,ref:ue=>i(ue,M,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!u.timePickerInline,dp__inc_dec_button_inline:u.timePickerInline,dp__tp_inline_btn_bottom:u.timePickerInline,dp__inc_dec_button_disabled:B.value(F.type)}),"aria-label":(re=e.unref(c))==null?void 0:re.decrementValue(F.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(ue=>Z(F.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(ue=>Z(F.type,!1),["prevent"]),["space"])],onClick:ue=>Z(F.type,!1)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[_a,Ya],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[u.$slots["arrow-down"]?e.renderSlot(u.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],64))],42,Ea)],64))],2)}),128)),u.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Va,[u.$slots["am-pm-button"]?e.renderSlot(u.$slots,"am-pm-button",{key:0,toggle:v,value:D.value}):e.createCommentVNode("",!0),u.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:L,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(le=e.unref(c))==null?void 0:le.amPmButton,tabindex:"0",onClick:v,onKeydown:[e.withKeys(e.withModifiers(v,["prevent"]),["enter"]),e.withKeys(e.withModifiers(v,["prevent"]),["space"])]},e.toDisplayString(D.value),41,Oa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value,(F,M)=>(e.openBlock(),e.createBlock(e.Transition,{key:M,name:e.unref(S)(Y[F.type]),css:e.unref(z)},{default:e.withCtx(()=>[Y[F.type]?(e.openBlock(),e.createBlock(tt,{key:0,items:f(F.type),"is-last":u.autoApply&&!e.unref(b).keepActionRow,"esc-close":u.escClose,type:F.type,"text-input":u.textInput,config:u.config,"arrow-navigation":u.arrowNavigation,"aria-labels":u.ariaLabels,onSelected:x=>E(F.type,x),onToggle:x=>y(F.type),onResetFlow:g[0]||(g[0]=x=>u.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["clock-icon"]?e.renderSlot(u.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.timePickerInline?e.unref(Xe):e.unref(ht)),{key:1}))]),_:2},[u.$slots[`${F.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:x})=>[e.renderSlot(u.$slots,`${F.type}-overlay-value`,{text:x.text,value:x.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),za={class:"dp--tp-wrap"},La=["aria-label","tabindex"],Ka=["tabindex"],Ha=["aria-label"],kn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Te},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMatrix:m,setTimePicker:s}=Oe(),c=e.useSlots(),{defaultedTransitions:A,defaultedAriaLabels:C,defaultedTextInput:b,defaultedConfig:T,defaultedRange:S}=fe(a),{transitionName:z,showTransition:Y}=Fe(A),{hideNavigationButtons:D}=ut(),L=e.ref(null),P=e.ref(null),O=e.ref([]),V=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?m([he(L.value)],"time"):s(!0,a.timePicker)});const $=e.computed(()=>S.value.enabled&&a.modelAuto?Gt(a.internalModelValue):!0),I=e.ref(!1),K=f=>({hours:Array.isArray(a.hours)?a.hours[f]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[f]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[f]:a.seconds}),q=e.computed(()=>{const f=[];if(S.value.enabled)for(let w=0;w<2;w++)f.push(K(w));else f.push(K(0));return f}),B=(f,w=!1,h="")=>{w||r("reset-flow"),I.value=f,r(f?"overlay-opened":"overlay-closed"),a.arrowNavigation&&s(f),e.nextTick(()=>{h!==""&&O.value[0]&&O.value[0].openChildCmp(h)})},ae=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!T.value.keepActionRow})),ee=Se(c,"timePicker"),J=(f,w,h)=>S.value.enabled?w===0?[f,q.value[1][h]]:[q.value[0][h],f]:f,R=f=>{r("update:hours",f)},U=f=>{r("update:minutes",f)},X=f=>{r("update:seconds",f)},H=()=>{if(V.value&&!b.value.enabled&&!a.noOverlayFocus){const f=Zt(V.value);f&&f.focus({preventScroll:!0})}};return n({toggleTimePicker:B}),(f,w)=>{var h;return e.openBlock(),e.createElementBlock("div",za,[!f.timePicker&&!f.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:L,type:"button",class:e.normalizeClass(ae.value),"aria-label":(h=e.unref(C))==null?void 0:h.openTimePicker,tabindex:f.noOverlayFocus?void 0:0,onKeydown:[w[0]||(w[0]=e.withKeys(G=>B(!0),["enter"])),w[1]||(w[1]=e.withKeys(G=>B(!0),["space"]))],onClick:w[2]||(w[2]=G=>B(!0))},[f.$slots["clock-icon"]?e.renderSlot(f.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ht),{key:1}))],42,La)),[[e.vShow,!e.unref(D)(f.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(z)(I.value),css:e.unref(Y)&&!f.timePickerInline},{default:e.withCtx(()=>{var G;return[I.value||f.timePicker||f.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:V,class:e.normalizeClass({dp__overlay:!f.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!f.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(f.timePicker?{height:`${e.unref(T).modeHeight}px`}:void 0),tabindex:f.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(f.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[f.$slots["time-picker-overlay"]?e.renderSlot(f.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:R,setMinutes:U,setSeconds:X}):e.createCommentVNode("",!0),f.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(f.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,(N,y)=>e.withDirectives((e.openBlock(),e.createBlock(Ia,e.mergeProps({key:y},{...f.$props,order:y,hours:N.hours,minutes:N.minutes,seconds:N.seconds,closeTimePickerBtn:P.value,disabledTimesConfig:t.disabledTimesConfig,disabled:y===0?f.fixedStart:f.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:O,"validate-time":(j,Z)=>t.validateTime(j,J(Z,y,j)),"onUpdate:hours":j=>R(J(j,y,"hours")),"onUpdate:minutes":j=>U(J(j,y,"minutes")),"onUpdate:seconds":j=>X(J(j,y,"seconds")),onMounted:H,onOverlayClosed:H,onAmPmChange:w[3]||(w[3]=j=>f.$emit("am-pm-change",j))}),e.createSlots({_:2},[e.renderList(e.unref(ee),(j,Z)=>({name:j,fn:e.withCtx(d=>[e.renderSlot(f.$slots,j,e.normalizeProps(e.guardReactiveProps(d)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,y===0?!0:$.value]])),128))],2)),!f.timePicker&&!f.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:P,type:"button",class:e.normalizeClass(ae.value),"aria-label":(G=e.unref(C))==null?void 0:G.closeTimePicker,tabindex:"0",onKeydown:[w[4]||(w[4]=e.withKeys(N=>B(!1),["enter"])),w[5]||(w[5]=e.withKeys(N=>B(!1),["space"]))],onClick:w[6]||(w[6]=N=>B(!1))},[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))],42,Ha)),[[e.vShow,!e.unref(D)(f.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Ka)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),bn=(t,n,l,r)=>{const{defaultedRange:a}=fe(t),m=(V,$)=>Array.isArray(n[V])?n[V][$]:n[V],s=V=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[V]:n.seconds:0,c=(V,$)=>V?$!==void 0?Ye(V,m("hours",$),m("minutes",$),s($)):Ye(V,n.hours,n.minutes,s()):o.setSeconds(W(),s($)),A=(V,$)=>{n[V]=$},C=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:a.value.enabled),b=(V,$)=>{const I=Object.fromEntries(Object.keys(n).map(K=>K===V?[K,$]:[K,n[K]].slice()));if(C.value&&!a.value.disableTimeRangeValidation){const K=B=>l.value?Ye(l.value[B],I.hours[B],I.minutes[B],I.seconds[B]):null,q=B=>o.setMilliseconds(l.value[B],0);return!(ce(K(0),K(1))&&(o.isAfter(K(0),q(1))||o.isBefore(K(1),q(0))))}return!0},T=(V,$)=>{b(V,$)&&(A(V,$),r&&r())},S=V=>{T("hours",V)},z=V=>{T("minutes",V)},Y=V=>{T("seconds",V)},D=(V,$,I,K)=>{$&&S(V),!$&&!I&&z(V),I&&Y(V),l.value&&K(l.value)},L=V=>{if(V){const $=Array.isArray(V),I=$?[+V[0].hours,+V[1].hours]:+V.hours,K=$?[+V[0].minutes,+V[1].minutes]:+V.minutes,q=$?[+V[0].seconds,+V[1].seconds]:+V.seconds;A("hours",I),A("minutes",K),t.enableSeconds&&A("seconds",q)}},P=(V,$)=>{const I={hours:Array.isArray(n.hours)?n.hours[V]:n.hours,disabledArr:[]};return($||$===0)&&(I.hours=$),Array.isArray(t.disabledTimes)&&(I.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[V])?t.disabledTimes[V]:t.disabledTimes),I},O=e.computed(()=>(V,$)=>{var I;if(Array.isArray(t.disabledTimes)){const{disabledArr:K,hours:q}=P(V,$),B=K.filter(ae=>+ae.hours===q);return((I=B[0])==null?void 0:I.minutes)==="*"?{hours:[q],minutes:void 0,seconds:void 0}:{hours:[],minutes:(B==null?void 0:B.map(ae=>+ae.minutes))??[],seconds:(B==null?void 0:B.map(ae=>ae.seconds?+ae.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:A,updateHours:S,updateMinutes:z,updateSeconds:Y,getSetDateTime:c,updateTimeValues:D,getSecondsValue:s,assignStartTime:L,validateTime:b,disabledTimesConfig:O}},Wa=(t,n)=>{const{modelValue:l,time:r}=et(t,n),{defaultedStartTime:a,defaultedRange:m}=fe(t),{updateTimeValues:s,getSetDateTime:c,setTime:A,assignStartTime:C,disabledTimesConfig:b,validateTime:T}=bn(t,r,l),S=$=>{const{hours:I,minutes:K,seconds:q}=$;return{hours:+I,minutes:+K,seconds:q?+q:0}},z=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const I=S(t.startTime[0]),K=S(t.startTime[1]);return[o.set(W(),I),o.set(W(),K)]}const $=S(t.startTime);return o.set(W(),$)}return m.value.enabled?[null,null]:null},Y=()=>{if(m.value.enabled){const[$,I]=z();l.value=[c($,0),c(I,1)]}else l.value=c(z())},D=$=>Array.isArray($)?[Le(W($[0])),Le(W($[1]))]:[Le($??W())],L=($,I,K)=>{A("hours",$),A("minutes",I),A("seconds",t.enableSeconds?K:0)},P=()=>{const[$,I]=D(l.value);return m.value.enabled?L([$.hours,I.hours],[$.minutes,I.minutes],[$.seconds,I.seconds]):L($.hours,$.minutes,$.seconds)};e.onMounted(()=>{if(!t.shadow)return C(a.value),l.value?P():Y()});const O=()=>{Array.isArray(l.value)?l.value=l.value.map(($,I)=>$&&c($,I)):l.value=c(l.value),n("time-update")};return{modelValue:l,time:r,disabledTimesConfig:b,updateTime:($,I=!0,K=!1)=>{s($,I,K,O)},validateTime:T}},Ua=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Te},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),s=Se(m,"timePicker"),{time:c,modelValue:A,disabledTimesConfig:C,updateTime:b,validateTime:T}=Wa(a,r);return n({getSidebarProps:()=>({modelValue:A,time:c,updateTime:b})}),(z,Y)=>(e.openBlock(),e.createBlock(dt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(kn,e.mergeProps(z.$props,{hours:e.unref(c).hours,minutes:e.unref(c).minutes,seconds:e.unref(c).seconds,"internal-model-value":z.internalModelValue,"disabled-times-config":e.unref(C),"validate-time":e.unref(T),"onUpdate:hours":Y[0]||(Y[0]=D=>e.unref(b)(D)),"onUpdate:minutes":Y[1]||(Y[1]=D=>e.unref(b)(D,!1)),"onUpdate:seconds":Y[2]||(Y[2]=D=>e.unref(b)(D,!1,!0)),onAmPmChange:Y[3]||(Y[3]=D=>z.$emit("am-pm-change",D))}),e.createSlots({_:2},[e.renderList(e.unref(s),(D,L)=>({name:D,fn:e.withCtx(P=>[e.renderSlot(z.$slots,D,e.normalizeProps(e.guardReactiveProps(P)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),xa={class:"dp__month_year_row"},ja=["aria-label","onClick","onKeydown"],qa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Te},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:n,emit:l}){const r=l,a=t,{defaultedTransitions:m,defaultedAriaLabels:s,defaultedMultiCalendars:c,defaultedFilters:A,defaultedConfig:C,defaultedHighlight:b,propDates:T}=fe(a),{transitionName:S,showTransition:z}=Fe(m),{buildMatrix:Y}=Oe(),{handleMonthYearChange:D,isDisabled:L,updateMonthYear:P}=ra(a,r),{showLeftIcon:O,showRightIcon:V}=ut(),$=e.ref(!1),I=e.ref(!1),K=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const q=y=>({get:()=>a[y],set:j=>{const Z=y===Be.month?Be.year:Be.month;r("update-month-year",{[y]:j,[Z]:a[Z]}),y===Be.month?H(!0):f(!0)}}),B=e.computed(q(Be.month)),ae=e.computed(q(Be.year)),ee=e.computed(()=>y=>({month:a.month,year:a.year,items:y===Be.month?a.months:a.years,instance:a.instance,updateMonthYear:P,toggle:y===Be.month?H:f})),J=e.computed(()=>{const y=a.months.find(j=>j.value===a.month);return y||{text:"",value:0}}),R=e.computed(()=>je(a.months,y=>{const j=a.month===y.value,Z=Je(y.value,tn(a.year,T.value.minDate),nn(a.year,T.value.maxDate))||A.value.months.includes(y.value),d=un(b.value,y.value,a.year);return{active:j,disabled:Z,highlighted:d}})),U=e.computed(()=>je(a.years,y=>{const j=a.year===y.value,Z=Je(y.value,qe(T.value.minDate),qe(T.value.maxDate))||A.value.years.includes(y.value),d=At(b.value,y.value);return{active:j,disabled:Z,highlighted:d}})),X=(y,j)=>{j!==void 0?y.value=j:y.value=!y.value,y.value||r("overlay-closed")},H=(y=!1,j)=>{w(y),X($,j)},f=(y=!1,j)=>{w(y),X(I,j)},w=y=>{y||r("reset-flow")},h=(y,j)=>{a.arrowNavigation&&(K.value[j]=he(y),Y(K.value,"monthYear"))},G=e.computed(()=>{var y,j;return[{type:Be.month,index:1,toggle:H,modelValue:B.value,updateModelValue:Z=>B.value=Z,text:J.value.text,showSelectionGrid:$.value,items:R.value,ariaLabel:(y=s.value)==null?void 0:y.openMonthsOverlay},{type:Be.year,index:2,toggle:f,modelValue:ae.value,updateModelValue:Z=>ae.value=Z,text:Ft(a.year,a.locale),showSelectionGrid:I.value,items:U.value,ariaLabel:(j=s.value)==null?void 0:j.openYearsOverlay}]}),N=e.computed(()=>a.disableYearSelect?[G.value[0]]:a.yearFirst?[...G.value].reverse():G.value);return n({toggleMonthPicker:H,toggleYearPicker:f,handleMonthYearChange:D}),(y,j)=>{var Z,d,v;return e.openBlock(),e.createElementBlock("div",xa,[y.$slots["month-year"]?e.renderSlot(y.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(P),handleMonthYearChange:e.unref(D),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(O)(e.unref(c),t.instance)&&!y.vertical?(e.openBlock(),e.createBlock(nt,{key:0,"aria-label":(Z=e.unref(s))==null?void 0:Z.prevMonth,disabled:e.unref(L)(!1),onActivate:j[0]||(j[0]=p=>e.unref(D)(!1,!0)),onSetRef:j[1]||(j[1]=p=>h(p,0))},{default:e.withCtx(()=>[y.$slots["arrow-left"]?e.renderSlot(y.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(gt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:y.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,(p,i)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:p.type},[e.createElementVNode("button",{ref_for:!0,ref:E=>h(E,i+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":p.ariaLabel,onClick:p.toggle,onKeydown:[e.withKeys(e.withModifiers(p.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(p.toggle,["prevent"]),["space"])]},[y.$slots[p.type]?e.renderSlot(y.$slots,p.type,{key:0,text:p.text,value:a[p.type]}):e.createCommentVNode("",!0),y.$slots[p.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(p.text),1)],64))],40,ja),e.createVNode(e.Transition,{name:e.unref(S)(p.showSelectionGrid),css:e.unref(z)},{default:e.withCtx(()=>[p.showSelectionGrid?(e.openBlock(),e.createBlock(tt,{key:0,items:p.items,"arrow-navigation":y.arrowNavigation,"hide-navigation":y.hideNavigation,"is-last":y.autoApply&&!e.unref(C).keepActionRow,"skip-button-ref":!1,config:y.config,type:p.type,"header-refs":[],"esc-close":y.escClose,"menu-wrap-ref":y.menuWrapRef,"text-input":y.textInput,"aria-labels":y.ariaLabels,onSelected:p.updateModelValue,onToggle:p.toggle},e.createSlots({"button-icon":e.withCtx(()=>[y.$slots["calendar-icon"]?e.renderSlot(y.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[y.$slots[`${p.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:E})=>[e.renderSlot(y.$slots,`${p.type}-overlay-value`,{text:E.text,value:E.value})]),key:"0"}:void 0,y.$slots[`${p.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(y.$slots,`${p.type}-overlay`,e.normalizeProps(e.guardReactiveProps(ee.value(p.type))))]),key:"1"}:void 0,y.$slots[`${p.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(y.$slots,`${p.type}-overlay-header`,{toggle:p.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(O)(e.unref(c),t.instance)&&y.vertical?(e.openBlock(),e.createBlock(nt,{key:1,"aria-label":(d=e.unref(s))==null?void 0:d.prevMonth,disabled:e.unref(L)(!1),onActivate:j[2]||(j[2]=p=>e.unref(D)(!1,!0))},{default:e.withCtx(()=>[y.$slots["arrow-up"]?e.renderSlot(y.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(V)(e.unref(c),t.instance)?(e.openBlock(),e.createBlock(nt,{key:2,ref:"rightIcon",disabled:e.unref(L)(!0),"aria-label":(v=e.unref(s))==null?void 0:v.nextMonth,onActivate:j[3]||(j[3]=p=>e.unref(D)(!0,!0)),onSetRef:j[4]||(j[4]=p=>h(p,y.disableYearSelect?2:3))},{default:e.withCtx(()=>[y.$slots[y.vertical?"arrow-down":"arrow-right"]?e.renderSlot(y.$slots,y.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),y.$slots[y.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(y.vertical?e.unref(bt):e.unref(yt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),Qa=["aria-label"],Ga={class:"dp__calendar_header",role:"row"},Xa={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ja=["aria-label"],Za=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Fa=["aria-label"],er={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},tr={class:"dp__cell_inner"},nr=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],ar=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Te},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const r=l,a=t,{buildMultiLevelMatrix:m}=Oe(),{defaultedTransitions:s,defaultedConfig:c,defaultedAriaLabels:A,defaultedMultiCalendars:C,defaultedWeekNumbers:b,defaultedMultiDates:T}=fe(a),S=e.ref(null),z=e.ref({bottom:"",left:"",transform:""}),Y=e.ref([]),D=e.ref(null),L=e.ref(!0),P=e.ref(""),O=e.ref({startX:0,endX:0,startY:0,endY:0}),V=e.ref([]),$=e.ref({left:"50%"}),I=e.ref(!1),K=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),q=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Dn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:Y}),c.value.noSwipe||D.value&&(D.value.addEventListener("touchstart",G,{passive:!1}),D.value.addEventListener("touchend",N,{passive:!1}),D.value.addEventListener("touchmove",y,{passive:!1})),a.monthChangeOnScroll&&D.value&&D.value.addEventListener("wheel",d,{passive:!1})});const B=g=>g?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",ae=(g,le)=>{if(a.transitions){const F=Me(Re(W(),a.month,a.year));P.value=pe(Me(Re(W(),g,le)),F)?s.value[B(!0)]:s.value[B(!1)],L.value=!1,e.nextTick(()=>{L.value=!0})}},ee=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),J=e.computed(()=>g=>{const le=Bn(g);return{dp__marker_dot:le.type==="dot",dp__marker_line:le.type==="line"}}),R=e.computed(()=>g=>ce(g,S.value)),U=e.computed(()=>({dp__calendar:!0,dp__calendar_next:C.value.count>0&&a.instance!==0})),X=e.computed(()=>g=>a.hideOffsetDates?g.current:!0),H=g=>o.format(g,"yyyy-MM-dd"),f=async(g,le,F)=>{const M=he(Y.value[le][F]);if(M){const{width:x,height:ie}=M.getBoundingClientRect();S.value=g.value;let re={left:`${x/2}px`},ue=-50;if(await e.nextTick(),V.value[0]){const{left:ne,width:ve}=V.value[0].getBoundingClientRect();ne<0&&(re={left:"0"},ue=0,$.value.left=`${x/2}px`),window.innerWidth<ne+ve&&(re={right:"0"},ue=0,$.value.left=`${ve-x/2}px`)}z.value={bottom:`${ie}px`,...re,transform:`translateX(${ue}%)`},r("tooltip-open",g.marker)}},w=async(g,le,F)=>{var M,x;if(I.value&&T.value.enabled&&T.value.dragSelect)return r("select-date",g);r("set-hover-date",g),(x=(M=g.marker)==null?void 0:M.tooltip)!=null&&x.length&&await f(g,le,F)},h=g=>{S.value&&(S.value=null,z.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",g.marker))},G=g=>{O.value.startX=g.changedTouches[0].screenX,O.value.startY=g.changedTouches[0].screenY},N=g=>{O.value.endX=g.changedTouches[0].screenX,O.value.endY=g.changedTouches[0].screenY,j()},y=g=>{a.vertical&&!a.inline&&g.preventDefault()},j=()=>{const g=a.vertical?"Y":"X";Math.abs(O.value[`start${g}`]-O.value[`end${g}`])>10&&r("handle-swipe",O.value[`start${g}`]>O.value[`end${g}`]?"right":"left")},Z=(g,le,F)=>{g&&(Array.isArray(Y.value[le])?Y.value[le][F]=g:Y.value[le]=[g]),a.arrowNavigation&&m(Y.value,"calendar")},d=g=>{a.monthChangeOnScroll&&(g.preventDefault(),r("handle-scroll",g))},v=g=>b.value.type==="local"?o.getWeek(g.value,{weekStartsOn:+a.weekStart}):b.value.type==="iso"?o.getISOWeek(g.value):typeof b.value.type=="function"?b.value.type(g.value):"",p=g=>{const le=g[0];return b.value.hideOnOffsetDates?g.some(F=>F.current)?v(le):"":v(le)},i=(g,le)=>{T.value.enabled||(_e(g,c.value),r("select-date",le))},E=g=>{_e(g,c.value)},u=g=>{T.value.enabled&&T.value.dragSelect?(I.value=!0,r("select-date",g)):T.value.enabled&&r("select-date",g)};return n({triggerTransition:ae}),(g,le)=>{var F;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(U.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:D,role:"grid",class:e.normalizeClass(ee.value),"aria-label":(F=e.unref(A))==null?void 0:F.calendarWrap},[e.createElementVNode("div",Ga,[g.weekNumbers?(e.openBlock(),e.createElementBlock("div",Xa,e.toDisplayString(g.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,(M,x)=>{var ie,re;return e.openBlock(),e.createElementBlock("div",{key:x,class:"dp__calendar_header_item",role:"gridcell","aria-label":(re=(ie=e.unref(A))==null?void 0:ie.weekDay)==null?void 0:re.call(ie,x)},[g.$slots["calendar-header"]?e.renderSlot(g.$slots,"calendar-header",{key:0,day:M,index:x}):e.createCommentVNode("",!0),g.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(M),1)],64))],8,Ja)}),128))]),Za,e.createVNode(e.Transition,{name:P.value,css:!!g.transitions},{default:e.withCtx(()=>{var M;return[L.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((M=e.unref(A))==null?void 0:M.calendarDays)||void 0,onMouseleave:le[1]||(le[1]=x=>I.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(K.value,(x,ie)=>(e.openBlock(),e.createElementBlock("div",{key:ie,class:"dp__calendar_row",role:"row"},[g.weekNumbers?(e.openBlock(),e.createElementBlock("div",er,[e.createElementVNode("div",tr,e.toDisplayString(p(x.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x.days,(re,ue)=>{var ne,ve,we;return e.openBlock(),e.createElementBlock("div",{id:H(re.value),ref_for:!0,ref:ke=>Z(ke,ie,ue),key:ue+ie,role:"gridcell",class:"dp__calendar_item","aria-selected":(re.classData.dp__active_date||re.classData.dp__range_start||re.classData.dp__range_start)??void 0,"aria-disabled":re.classData.dp__cell_disabled||void 0,"aria-label":(ve=(ne=e.unref(A))==null?void 0:ne.day)==null?void 0:ve.call(ne,re),tabindex:"0",onClick:e.withModifiers(ke=>i(ke,re),["prevent"]),onKeydown:[e.withKeys(ke=>g.$emit("select-date",re),["enter"]),e.withKeys(ke=>g.$emit("handle-space",re),["space"])],onMouseenter:ke=>w(re,ie,ue),onMouseleave:ke=>h(re),onMousedown:ke=>u(re),onMouseup:le[0]||(le[0]=ke=>I.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",re.classData])},[g.$slots.day&&X.value(re)?e.renderSlot(g.$slots,"day",{key:0,day:+re.text,date:re.value}):e.createCommentVNode("",!0),g.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(re.text),1)],64)),re.marker&&X.value(re)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[g.$slots.marker?e.renderSlot(g.$slots,"marker",{key:0,marker:re.marker,day:+re.text,date:re.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(J.value(re.marker)),style:e.normalizeStyle(re.marker.color?{backgroundColor:re.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),R.value(re.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:V,class:"dp__marker_tooltip",style:e.normalizeStyle(z.value)},[(we=re.marker)!=null&&we.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:E},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(re.marker.tooltip,(ke,We)=>(e.openBlock(),e.createElementBlock("div",{key:We,class:"dp__tooltip_text"},[g.$slots["marker-tooltip"]?e.renderSlot(g.$slots,"marker-tooltip",{key:0,tooltip:ke,day:re.value}):e.createCommentVNode("",!0),g.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(ke.color?{backgroundColor:ke.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(ke.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle($.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,nr)}),128))]))),128))],40,Fa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Qa)],2)}}}),wn=t=>Array.isArray(t),rr=(t,n,l,r)=>{const a=e.ref([]),m=e.ref(new Date),{modelValue:s,calendars:c,time:A}=et(t,n),{defaultedMultiCalendars:C,defaultedStartTime:b,defaultedRange:T,defaultedTz:S,propDates:z,defaultedMultiDates:Y}=fe(t),{validateMonthYearInRange:D,isDisabled:L,isDateRangeAllowed:P,checkMinMaxRange:O}=ze(t),{updateTimeValues:V,getSetDateTime:$,setTime:I,assignStartTime:K,validateTime:q,disabledTimesConfig:B}=bn(t,A,s,r),ae=e.computed(()=>k=>c.value[k]?c.value[k].month:0),ee=e.computed(()=>k=>c.value[k]?c.value[k].year:0),J=(k,Q,oe)=>{var _,te;c.value[k]||(c.value[k]={month:0,year:0}),c.value[k].month=Jt(Q)?(_=c.value[k])==null?void 0:_.month:Q,c.value[k].year=Jt(oe)?(te=c.value[k])==null?void 0:te.year:oe},R=()=>{t.autoApply&&n("select-date")};e.watch(s,(k,Q)=>{JSON.stringify(k)!==JSON.stringify(Q)&&H()},{deep:!0}),e.onMounted(()=>{t.shadow||(s.value||(p(),b.value&&K(b.value)),H(!0),t.focusStartDate&&t.startDate&&p())});const U=e.computed(()=>{var k;return(k=t.flow)!=null&&k.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),X=()=>{t.autoApply&&U.value&&n("auto-apply")},H=(k=!1)=>{if(s.value)return Array.isArray(s.value)?(a.value=s.value,j(k)):h(s.value,k);if(C.value.count&&k&&!t.startDate)return w(W(),k)},f=()=>Array.isArray(s.value)&&T.value.enabled?o.getMonth(s.value[0])===o.getMonth(s.value[1]??s.value[0]):!1,w=(k,Q=!1)=>{if((!C.value.count||!C.value.static||Q)&&J(0,o.getMonth(k),o.getYear(k)),C.value.count&&(!C.value.solo||!s.value||f()))for(let oe=1;oe<C.value.count;oe++){const _=o.set(W(),{month:ae.value(oe-1),year:ee.value(oe-1)}),te=o.add(_,{months:1});c.value[oe]={month:o.getMonth(te),year:o.getYear(te)}}},h=(k,Q)=>{w(k),I("hours",o.getHours(k)),I("minutes",o.getMinutes(k)),I("seconds",o.getSeconds(k)),C.value.count&&Q&&v()},G=k=>{if(C.value.count){if(C.value.solo)return 0;const Q=o.getMonth(k[0]),oe=o.getMonth(k[1]);return Math.abs(oe-Q)<C.value.count?0:1}return 1},N=(k,Q)=>{k[1]&&T.value.showLastInRange?w(k[G(k)],Q):w(k[0],Q);const oe=(_,te)=>[_(k[0]),k[1]?_(k[1]):A[te][1]];I("hours",oe(o.getHours,"hours")),I("minutes",oe(o.getMinutes,"minutes")),I("seconds",oe(o.getSeconds,"seconds"))},y=(k,Q)=>{if((T.value.enabled||t.weekPicker)&&!Y.value.enabled)return N(k,Q);if(Y.value.enabled&&Q){const oe=k[k.length-1];return h(oe,Q)}},j=k=>{const Q=s.value;y(Q,k),C.value.count&&C.value.solo&&v()},Z=(k,Q)=>{const oe=o.set(W(),{month:ae.value(Q),year:ee.value(Q)}),_=k<0?o.addMonths(oe,1):o.subMonths(oe,1);D(o.getMonth(_),o.getYear(_),k<0,t.preventMinMaxNavigation)&&(J(Q,o.getMonth(_),o.getYear(_)),n("update-month-year",{instance:Q,month:o.getMonth(_),year:o.getYear(_)}),C.value.count&&!C.value.solo&&d(Q),l())},d=k=>{for(let Q=k-1;Q>=0;Q--){const oe=o.subMonths(o.set(W(),{month:ae.value(Q+1),year:ee.value(Q+1)}),1);J(Q,o.getMonth(oe),o.getYear(oe))}for(let Q=k+1;Q<=C.value.count-1;Q++){const oe=o.addMonths(o.set(W(),{month:ae.value(Q-1),year:ee.value(Q-1)}),1);J(Q,o.getMonth(oe),o.getYear(oe))}},v=()=>{if(Array.isArray(s.value)&&s.value.length===2){const k=W(W(s.value[1]?s.value[1]:o.addMonths(s.value[0],1))),[Q,oe]=[o.getMonth(s.value[0]),o.getYear(s.value[0])],[_,te]=[o.getMonth(s.value[1]),o.getYear(s.value[1])];(Q!==_||Q===_&&oe!==te)&&C.value.solo&&J(1,o.getMonth(k),o.getYear(k))}else s.value&&!Array.isArray(s.value)&&(J(0,o.getMonth(s.value),o.getYear(s.value)),w(W()))},p=()=>{t.startDate&&(J(0,o.getMonth(W(t.startDate)),o.getYear(W(t.startDate))),C.value.count&&d(0))},i=(k,Q)=>{if(t.monthChangeOnScroll){const oe=new Date().getTime()-m.value.getTime(),_=Math.abs(k.deltaY);let te=500;_>1&&(te=100),_>100&&(te=0),oe>te&&(m.value=new Date,Z(t.monthChangeOnScroll!=="inverse"?-k.deltaY:k.deltaY,Q))}},E=(k,Q,oe=!1)=>{t.monthChangeOnArrows&&t.vertical===oe&&u(k,Q)},u=(k,Q)=>{Z(k==="right"?-1:1,Q)},g=k=>{if(z.value.markers)return lt(k.value,z.value.markers)},le=(k,Q)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[k==0,!0];case"fair":return[k==0||Q>k,!0];case"append":return[!1,!1];default:return[!1,!1]}},F=(k,Q,oe,_)=>{if(t.sixWeeks&&k.length<6){const te=6-k.length,se=(Q.getDay()+7-_)%7,Ae=6-(oe.getDay()+7-_)%7,[Ue,xt]=le(se,Ae);for(let xe=1;xe<=te;xe++)if(xt?!!(xe%2)==Ue:Ue){const pt=k[0].days[0],jt=M(o.addDays(pt.value,-7),o.getMonth(Q));k.unshift({days:jt})}else{const pt=k[k.length-1],jt=pt.days[pt.days.length-1],Sr=M(o.addDays(jt.value,1),o.getMonth(Q));k.push({days:Sr})}}return k},M=(k,Q)=>{const oe=W(k),_=[];for(let te=0;te<7;te++){const se=o.addDays(oe,te),Ee=o.getMonth(se)!==Q;_.push({text:t.hideOffsetDates&&Ee?"":se.getDate(),value:se,current:!Ee,classData:{}})}return _},x=(k,Q)=>{const oe=[],_=new Date(Q,k),te=new Date(Q,k+1,0),se=t.weekStart,Ee=o.startOfWeek(_,{weekStartsOn:se}),Ae=Ue=>{const xt=M(Ue,k);if(oe.push({days:xt}),!oe[oe.length-1].days.some(xe=>ce(Me(xe.value),Me(te)))){const xe=o.addDays(Ue,7);Ae(xe)}};return Ae(Ee),F(oe,_,te,se)},ie=k=>{const Q=Ye(W(k.value),A.hours,A.minutes,We());n("date-update",Q),Y.value.enabled?Vt(Q,s,Y.value.limit):s.value=Q,r(),e.nextTick().then(()=>{X()})},re=k=>T.value.noDisabledRange?an(a.value[0],k).some(oe=>L(oe)):!1,ue=()=>{a.value=s.value?s.value.slice():[],a.value.length===2&&!(T.value.fixedStart||T.value.fixedEnd)&&(a.value=[])},ne=(k,Q)=>{const oe=[W(k.value),o.addDays(W(k.value),+T.value.autoRange)];P(oe)?(Q&&ve(k.value),a.value=oe):n("invalid-date",k.value)},ve=k=>{const Q=o.getMonth(W(k)),oe=o.getYear(W(k));if(J(0,Q,oe),C.value.count>0)for(let _=1;_<C.value.count;_++){const te=_n(o.set(W(k),{year:ae.value(_-1),month:ee.value(_-1)}));J(_,te.month,te.year)}},we=k=>{if(re(k.value)||!O(k.value,s.value,T.value.fixedStart?0:1))return n("invalid-date",k.value);a.value=yn(W(k.value),s,n,T)},ke=(k,Q)=>{if(ue(),T.value.autoRange)return ne(k,Q);if(T.value.fixedStart||T.value.fixedEnd)return we(k);a.value[0]?O(W(k.value),s.value)&&!re(k.value)?me(W(k.value),W(a.value[0]))?(a.value.unshift(W(k.value)),n("range-end",a.value[0])):(a.value[1]=W(k.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",k.value),n("invalid-date",k.value)):(a.value[0]=W(k.value),n("range-start",a.value[0]))},We=(k=!0)=>t.enableSeconds?Array.isArray(A.seconds)?k?A.seconds[0]:A.seconds[1]:A.seconds:0,at=k=>{a.value[k]=Ye(a.value[k],A.hours[k],A.minutes[k],We(k!==1))},rt=()=>{var k,Q;a.value[0]&&a.value[1]&&+((k=a.value)==null?void 0:k[0])>+((Q=a.value)==null?void 0:Q[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},De=()=>{a.value.length&&(a.value[0]&&!a.value[1]?at(0):(at(0),at(1),r()),rt(),s.value=a.value.slice(),ft(a.value,n,t.autoApply,t.modelAuto))},Lt=(k,Q=!1)=>{if(L(k.value)||!k.current&&t.hideOffsetDates)return n("invalid-date",k.value);if(!T.value.enabled)return ie(k);wn(A.hours)&&wn(A.minutes)&&!Y.value.enabled&&(ke(k,Q),De())},Kt=(k,Q)=>{var _;J(k,Q.month,Q.year),C.value.count&&!C.value.solo&&d(k),n("update-month-year",{instance:k,month:Q.month,year:Q.year}),l(C.value.solo?k:void 0);const oe=(_=t.flow)!=null&&_.length?t.flow[t.flowStep]:void 0;!Q.fromNav&&(oe===$e.month||oe===$e.year)&&r()},mt=(k,Q)=>{gn({value:k,modelValue:s,range:T.value.enabled,timezone:Q?void 0:S.value.timezone}),R(),t.multiCalendars&&e.nextTick().then(()=>H(!0))},Ht=()=>{T.value.enabled?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=me(W(),s.value[0])?[W(),s.value[0]]:[s.value[0],W()]:s.value=[W()]:s.value=W(),R()},Wt=()=>{if(Array.isArray(s.value))if(Y.value.enabled){const k=Ut();s.value[s.value.length-1]=$(k)}else s.value=s.value.map((k,Q)=>k&&$(k,Q));else s.value=$(s.value);n("time-update")},Ut=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:c,modelValue:s,month:ae,year:ee,time:A,disabledTimesConfig:B,validateTime:q,getCalendarDays:x,getMarker:g,handleScroll:i,handleSwipe:u,handleArrow:E,selectDate:Lt,updateMonthYear:Kt,presetDate:mt,selectCurrentDate:Ht,updateTime:(k,Q=!0,oe=!1)=>{V(k,Q,oe,Wt)}}},lr={key:0},or=e.defineComponent({__name:"DatePicker",props:{...Te},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:l}){const r=l,a=t,{calendars:m,month:s,year:c,modelValue:A,time:C,disabledTimesConfig:b,validateTime:T,getCalendarDays:S,getMarker:z,handleArrow:Y,handleScroll:D,handleSwipe:L,selectDate:P,updateMonthYear:O,presetDate:V,selectCurrentDate:$,updateTime:I}=rr(a,r,G,N),K=e.useSlots(),{setHoverDate:q,getDayClassData:B,clearHoverDate:ae}=ia(A,a),{defaultedMultiCalendars:ee}=fe(a),J=e.ref([]),R=e.ref([]),U=e.ref(null),X=Se(K,"calendar"),H=Se(K,"monthYear"),f=Se(K,"timePicker"),w=p=>{a.shadow||r("mount",p)};e.watch(m,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const h=e.computed(()=>p=>S(s.value(p),c.value(p)).map(i=>({...i,days:i.days.map(E=>(E.marker=z(E),E.classData=B(E),E))})));function G(p){var i;p||p===0?(i=R.value[p])==null||i.triggerTransition(s.value(p),c.value(p)):R.value.forEach((E,u)=>E.triggerTransition(s.value(u),c.value(u)))}function N(){r("update-flow-step")}const y=(p,i=!1)=>{P(p,i),a.spaceConfirm&&r("select-date")};return n({clearHoverDate:ae,presetDate:V,selectCurrentDate:$,toggleMonthPicker:(p,i,E=0)=>{var u;(u=J.value[E])==null||u.toggleMonthPicker(p,i)},toggleYearPicker:(p,i,E=0)=>{var u;(u=J.value[E])==null||u.toggleYearPicker(p,i)},toggleTimePicker:(p,i,E)=>{var u;(u=U.value)==null||u.toggleTimePicker(p,i,E)},handleArrow:Y,updateMonthYear:O,getSidebarProps:()=>({modelValue:A,month:s,year:c,time:C,updateTime:I,updateMonthYear:O,selectDate:P,presetDate:V})}),(p,i)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(dt,{"multi-calendars":e.unref(ee).count,collapse:p.collapse},{default:e.withCtx(({instance:E,index:u})=>[p.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(qa,e.mergeProps({key:0,ref:g=>{g&&(J.value[u]=g)},months:e.unref(Qt)(p.formatLocale,p.locale,p.monthNameFormat),years:e.unref(wt)(p.yearRange,p.locale,p.reverseYears),month:e.unref(s)(E),year:e.unref(c)(E),instance:E},p.$props,{onMount:i[0]||(i[0]=g=>w(e.unref(He).header)),onResetFlow:i[1]||(i[1]=g=>p.$emit("reset-flow")),onUpdateMonthYear:g=>e.unref(O)(E,g),onOverlayClosed:i[2]||(i[2]=g=>p.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(H),(g,le)=>({name:g,fn:e.withCtx(F=>[e.renderSlot(p.$slots,g,e.normalizeProps(e.guardReactiveProps(F)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(ar,e.mergeProps({ref:g=>{g&&(R.value[u]=g)},"mapped-dates":h.value(E),month:e.unref(s)(E),year:e.unref(c)(E),instance:E},p.$props,{onSelectDate:g=>e.unref(P)(g,E!==1),onHandleSpace:g=>y(g,E!==1),onSetHoverDate:i[3]||(i[3]=g=>e.unref(q)(g)),onHandleScroll:g=>e.unref(D)(g,E),onHandleSwipe:g=>e.unref(L)(g,E),onMount:i[4]||(i[4]=g=>w(e.unref(He).calendar)),onResetFlow:i[5]||(i[5]=g=>p.$emit("reset-flow")),onTooltipOpen:i[6]||(i[6]=g=>p.$emit("tooltip-open",g)),onTooltipClose:i[7]||(i[7]=g=>p.$emit("tooltip-close",g))}),e.createSlots({_:2},[e.renderList(e.unref(X),(g,le)=>({name:g,fn:e.withCtx(F=>[e.renderSlot(p.$slots,g,e.normalizeProps(e.guardReactiveProps({...F})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),p.enableTimePicker?(e.openBlock(),e.createElementBlock("div",lr,[p.$slots["time-picker"]?e.renderSlot(p.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(C),updateTime:e.unref(I)}))):(e.openBlock(),e.createBlock(kn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:U},p.$props,{hours:e.unref(C).hours,minutes:e.unref(C).minutes,seconds:e.unref(C).seconds,"internal-model-value":p.internalModelValue,"disabled-times-config":e.unref(b),"validate-time":e.unref(T),onMount:i[8]||(i[8]=E=>w(e.unref(He).timePicker)),"onUpdate:hours":i[9]||(i[9]=E=>e.unref(I)(E)),"onUpdate:minutes":i[10]||(i[10]=E=>e.unref(I)(E,!1)),"onUpdate:seconds":i[11]||(i[11]=E=>e.unref(I)(E,!1,!0)),onResetFlow:i[12]||(i[12]=E=>p.$emit("reset-flow")),onOverlayClosed:i[13]||(i[13]=E=>p.$emit("time-picker-close")),onOverlayOpened:i[14]||(i[14]=E=>p.$emit("time-picker-open",E)),onAmPmChange:i[15]||(i[15]=E=>p.$emit("am-pm-change",E))}),e.createSlots({_:2},[e.renderList(e.unref(f),(E,u)=>({name:E,fn:e.withCtx(g=>[e.renderSlot(p.$slots,E,e.normalizeProps(e.guardReactiveProps(g)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),sr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:m,defaultedRange:s,propDates:c,defaultedFilters:A,defaultedMultiDates:C}=fe(t),{modelValue:b,year:T,month:S,calendars:z}=et(t,n),{isDisabled:Y}=ze(t),{selectYear:D,groupedYears:L,showYearPicker:P,isDisabled:O,toggleYearPicker:V,handleYearSelect:$,handleYear:I}=hn({modelValue:b,multiCalendars:r,highlight:m,calendars:z,propDates:c,month:S,year:T,filters:A,props:t,emit:n}),K=(w,h)=>[w,h].map(G=>o.format(G,"MMMM",{locale:t.formatLocale})).join("-"),q=e.computed(()=>w=>b.value?Array.isArray(b.value)?b.value.some(h=>o.isSameQuarter(w,h)):o.isSameQuarter(b.value,w):!1),B=w=>{if(s.value.enabled){if(Array.isArray(b.value)){const h=ce(w,b.value[0])||ce(w,b.value[1]);return ot(b.value,l.value,w)&&!h}return!1}return!1},ae=(w,h)=>w.quarter===o.getQuarter(h)&&w.year===o.getYear(h),ee=w=>typeof m.value=="function"?m.value({quarter:o.getQuarter(w),year:o.getYear(w)}):!!m.value.quarters.find(h=>ae(h,w)),J=e.computed(()=>w=>{const h=o.set(new Date,{year:T.value(w)});return o.eachQuarterOfInterval({start:o.startOfYear(h),end:o.endOfYear(h)}).map(G=>{const N=o.startOfQuarter(G),y=o.endOfQuarter(G),j=Y(G),Z=B(N),d=ee(N);return{text:K(N,y),value:N,active:q.value(N),highlighted:d,disabled:j,isBetween:Z}})}),R=w=>{Vt(w,b,C.value.limit),n("auto-apply",!0)},U=w=>{b.value=Ot(b,w,n),ft(b.value,n,t.autoApply,t.modelAuto)},X=w=>{b.value=w,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:L,year:T,isDisabled:O,quarters:J,showYearPicker:P,modelValue:b,setHoverDate:w=>{l.value=w},selectYear:D,selectQuarter:(w,h,G)=>{if(!G)return z.value[h].month=o.getMonth(o.endOfQuarter(w)),C.value.enabled?R(w):s.value.enabled?U(w):X(w)},toggleYearPicker:V,handleYearSelect:$,handleYear:I}},ir={class:"dp--quarter-items"},ur=["disabled","onClick","onMouseover"],cr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),s=Se(m,"yearMode"),{defaultedMultiCalendars:c,defaultedConfig:A,groupedYears:C,year:b,isDisabled:T,quarters:S,modelValue:z,showYearPicker:Y,setHoverDate:D,selectQuarter:L,toggleYearPicker:P,handleYearSelect:O,handleYear:V}=sr(a,r);return n({getSidebarProps:()=>({modelValue:z,year:b,selectQuarter:L,handleYearSelect:O,handleYear:V})}),(I,K)=>(e.openBlock(),e.createBlock(dt,{"multi-calendars":e.unref(c).count,collapse:I.collapse,stretch:""},{default:e.withCtx(({instance:q})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(A).modeHeight}px`})},[e.createElementVNode("div",null,[e.createVNode(pn,e.mergeProps(I.$props,{items:e.unref(C)(q),instance:q,"show-year-picker":e.unref(Y)[q],year:e.unref(b)(q),"is-disabled":B=>e.unref(T)(q,B),onHandleYear:B=>e.unref(V)(q,B),onYearSelect:B=>e.unref(O)(B,q),onToggleYearPicker:B=>e.unref(P)(q,B==null?void 0:B.flow,B==null?void 0:B.show)}),e.createSlots({_:2},[e.renderList(e.unref(s),(B,ae)=>({name:B,fn:e.withCtx(ee=>[e.renderSlot(I.$slots,B,e.normalizeProps(e.guardReactiveProps(ee)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",ir,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(S)(q),(B,ae)=>(e.openBlock(),e.createElementBlock("div",{key:ae},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":B.active,"dp--qr-btn-between":B.isBetween,"dp--qr-btn-disabled":B.disabled,"dp--highlighted":B.highlighted}]),disabled:B.disabled,onClick:ee=>e.unref(L)(B.value,q,B.disabled),onMouseover:ee=>e.unref(D)(B.value)},[I.$slots.quarter?e.renderSlot(I.$slots,"quarter",{key:0,value:B.value,text:B.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64))],42,ur)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),dr=["id","aria-label"],fr={key:0,class:"dp--menu-load-container"},mr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],pr={key:0,class:"dp__sidebar_left"},gr=["onClick","onKeydown"],yr={key:2,class:"dp__sidebar_right"},hr={key:3,class:"dp__action_extra"},vn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ct,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.ref(null),s=e.computed(()=>{const{openOnTop:M,...x}=a;return{...x,flowStep:B.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:m.value}}),{setMenuFocused:c,setShiftKey:A,control:C}=cn(),b=e.useSlots(),{defaultedTextInput:T,defaultedInline:S,defaultedConfig:z}=fe(a),Y=e.ref(null),D=e.ref(0),L=e.ref(null),P=e.ref(!1),O=e.ref(null);e.onMounted(()=>{if(!a.shadow){P.value=!0,V(),window.addEventListener("resize",V);const M=he(m);if(M&&!T.value.enabled&&!S.value.enabled&&(c(!0),U()),M){const x=ie=>{z.value.allowPreventDefault&&ie.preventDefault(),_e(ie,z.value,!0)};M.addEventListener("pointerdown",x),M.addEventListener("mousedown",x)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",V)});const V=()=>{const M=he(L);M&&(D.value=M.getBoundingClientRect().width)},{arrowRight:$,arrowLeft:I,arrowDown:K,arrowUp:q}=Oe(),{flowStep:B,updateFlowStep:ae,childMount:ee,resetFlow:J}=ua(a,r,O),R=e.computed(()=>a.monthPicker?Ca:a.yearPicker?Ta:a.timePicker?Ua:a.quarterPicker?cr:or),U=()=>{const M=he(m);M&&M.focus({preventScroll:!0})},X=e.computed(()=>{var M;return((M=O.value)==null?void 0:M.getSidebarProps())||{}}),H=()=>{a.openOnTop&&r("recalculate-position")},f=Se(b,"action"),w=e.computed(()=>a.monthPicker||a.yearPicker?Se(b,"monthYear"):a.timePicker?Se(b,"timePicker"):Se(b,"shared")),h=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),G=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),N=e.computed(()=>({dp__menu:!0,dp__menu_index:!S.value.enabled,dp__relative:S.value.enabled,[a.menuClassName]:!!a.menuClassName})),y=M=>{_e(M,z.value,!0)},j=()=>{a.escClose&&r("close-picker")},Z=M=>{if(a.arrowNavigation){if(M==="up")return q();if(M==="down")return K();if(M==="left")return I();if(M==="right")return $()}else M==="left"||M==="up"?E("handleArrow","left",0,M==="up"):E("handleArrow","right",0,M==="down")},d=M=>{A(M.shiftKey),!a.disableMonthYearSelect&&M.code==="Tab"&&M.target.classList.contains("dp__menu")&&C.value.shiftKeyInMenu&&(M.preventDefault(),_e(M,z.value,!0),r("close-picker"))},v=()=>{U(),r("time-picker-close")},p=M=>{var x,ie,re;(x=O.value)==null||x.toggleTimePicker(!1,!1),(ie=O.value)==null||ie.toggleMonthPicker(!1,!1,M),(re=O.value)==null||re.toggleYearPicker(!1,!1,M)},i=(M,x=0)=>{var ie,re,ue;return M==="month"?(ie=O.value)==null?void 0:ie.toggleMonthPicker(!1,!0,x):M==="year"?(re=O.value)==null?void 0:re.toggleYearPicker(!1,!0,x):M==="time"?(ue=O.value)==null?void 0:ue.toggleTimePicker(!0,!1):p(x)},E=(M,...x)=>{var ie,re;(ie=O.value)!=null&&ie[M]&&((re=O.value)==null||re[M](...x))},u=()=>{E("selectCurrentDate")},g=(M,x)=>{E("presetDate",M,x)},le=()=>{E("clearHoverDate")};return n({updateMonthYear:(M,x)=>{E("updateMonthYear",M,x)},switchView:i}),(M,x)=>{var ie,re,ue;return e.openBlock(),e.createElementBlock("div",{id:M.uid?`dp-menu-${M.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog","aria-label":(ie=M.ariaLabels)==null?void 0:ie.menu,class:e.normalizeClass(N.value),onMouseleave:le,onClick:y,onKeydown:[e.withKeys(j,["esc"]),x[18]||(x[18]=e.withKeys(e.withModifiers(ne=>Z("left"),["prevent"]),["left"])),x[19]||(x[19]=e.withKeys(e.withModifiers(ne=>Z("up"),["prevent"]),["up"])),x[20]||(x[20]=e.withKeys(e.withModifiers(ne=>Z("down"),["prevent"]),["down"])),x[21]||(x[21]=e.withKeys(e.withModifiers(ne=>Z("right"),["prevent"]),["right"])),d]},[(M.disabled||M.readonly)&&e.unref(S).enabled||M.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(G.value)},[M.loading?(e.openBlock(),e.createElementBlock("div",fr,mr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(S).enabled&&!M.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(h.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:L,class:e.normalizeClass({dp__menu_content_wrapper:((re=M.presetDates)==null?void 0:re.length)||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((ue=M.presetDates)==null?void 0:ue.length)||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${D.value}px`})},[M.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",pr,[e.renderSlot(M.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(X.value)))])):e.createCommentVNode("",!0),M.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.presetDates,(ne,ve)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:ve},[ne.slot?e.renderSlot(M.$slots,ne.slot,{key:0,presetDate:g,label:ne.label,value:ne.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ne.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),onClick:e.withModifiers(we=>g(ne.value,ne.noTz),["prevent"]),onKeydown:[e.withKeys(e.withModifiers(we=>g(ne.value,ne.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(we=>g(ne.value,ne.noTz),["prevent"]),["space"])]},e.toDisplayString(ne.label),47,gr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:Y,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(R.value),e.mergeProps({ref_key:"dynCmpRef",ref:O},s.value,{"flow-step":e.unref(B),onMount:e.unref(ee),onUpdateFlowStep:e.unref(ae),onResetFlow:e.unref(J),onFocusMenu:U,onSelectDate:x[0]||(x[0]=ne=>M.$emit("select-date")),onDateUpdate:x[1]||(x[1]=ne=>M.$emit("date-update",ne)),onTooltipOpen:x[2]||(x[2]=ne=>M.$emit("tooltip-open",ne)),onTooltipClose:x[3]||(x[3]=ne=>M.$emit("tooltip-close",ne)),onAutoApply:x[4]||(x[4]=ne=>M.$emit("auto-apply",ne)),onRangeStart:x[5]||(x[5]=ne=>M.$emit("range-start",ne)),onRangeEnd:x[6]||(x[6]=ne=>M.$emit("range-end",ne)),onInvalidFixedRange:x[7]||(x[7]=ne=>M.$emit("invalid-fixed-range",ne)),onTimeUpdate:x[8]||(x[8]=ne=>M.$emit("time-update")),onAmPmChange:x[9]||(x[9]=ne=>M.$emit("am-pm-change",ne)),onTimePickerOpen:x[10]||(x[10]=ne=>M.$emit("time-picker-open",ne)),onTimePickerClose:v,onRecalculatePosition:H,onUpdateMonthYear:x[11]||(x[11]=ne=>M.$emit("update-month-year",ne)),onAutoApplyInvalid:x[12]||(x[12]=ne=>M.$emit("auto-apply-invalid",ne)),onInvalidDate:x[13]||(x[13]=ne=>M.$emit("invalid-date",ne)),"onUpdate:internalModelValue":x[14]||(x[14]=ne=>M.$emit("update:internal-model-value",ne))}),e.createSlots({_:2},[e.renderList(w.value,(ne,ve)=>({name:ne,fn:e.withCtx(we=>[e.renderSlot(M.$slots,ne,e.normalizeProps(e.guardReactiveProps({...we})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),M.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",yr,[e.renderSlot(M.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(X.value)))])):e.createCommentVNode("",!0),M.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",hr,[M.$slots["action-extra"]?e.renderSlot(M.$slots,"action-extra",{key:0,selectCurrentDate:u}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!M.autoApply||e.unref(z).keepActionRow?(e.openBlock(),e.createBlock(ya,e.mergeProps({key:2,"menu-mount":P.value},s.value,{"calendar-width":D.value,onClosePicker:x[15]||(x[15]=ne=>M.$emit("close-picker")),onSelectDate:x[16]||(x[16]=ne=>M.$emit("select-date")),onInvalidSelect:x[17]||(x[17]=ne=>M.$emit("invalid-select")),onSelectNow:u}),e.createSlots({_:2},[e.renderList(e.unref(f),(ne,ve)=>({name:ne,fn:e.withCtx(we=>[e.renderSlot(M.$slots,ne,e.normalizeProps(e.guardReactiveProps({...we})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,dr)}}}),kr=typeof window<"u"?window:void 0,It=()=>{},br=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,wr=(t,n,l,r)=>{if(!t)return It;let a=It;const m=e.watch(()=>e.unref(t),c=>{a(),c&&(c.addEventListener(n,l,r),a=()=>{c.removeEventListener(n,l,r),a=It})},{immediate:!0,flush:"post"}),s=()=>{m(),a()};return br(s),s},vr=(t,n,l,r={})=>{const{window:a=kr,event:m="pointerdown"}=r;return a?wr(a,m,c=>{const A=he(t),C=he(n);!A||!C||A===c.target||c.composedPath().includes(A)||c.composedPath().includes(C)||l(c)},{passive:!0}):void 0},Mr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePickerModified",props:{...ct},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:n,emit:l}){const r=l,a=t,m=e.useSlots(),s=e.ref(!1),c=e.toRef(a,"modelValue"),A=e.toRef(a,"timezone"),C=e.ref(null),b=e.ref(null),T=e.ref(null),S=e.ref(!1),z=e.ref(null),Y=e.ref(!1),D=e.ref(!1),L=e.ref(!1),{setMenuFocused:P,setShiftKey:O}=cn(),{clearArrowNav:V}=Oe(),{validateDate:$,isValidTime:I}=ze(a),{defaultedTransitions:K,defaultedTextInput:q,defaultedInline:B,defaultedConfig:ae,defaultedRange:ee,defaultedMultiDates:J}=fe(a),{menuTransition:R,showTransition:U}=Fe(K);e.onMounted(()=>{d(a.modelValue),e.nextTick().then(()=>{if(!B.value.enabled){const _=N(z.value);_==null||_.addEventListener("scroll",M),window==null||window.addEventListener("resize",x)}}),B.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",ie),window==null||window.addEventListener("keydown",re)}),e.onUnmounted(()=>{if(!B.value.enabled){const _=N(z.value);_==null||_.removeEventListener("scroll",M),window==null||window.removeEventListener("resize",x)}window==null||window.removeEventListener("keyup",ie),window==null||window.removeEventListener("keydown",re)});const X=Se(m,"all",a.presetDates),H=Se(m,"input");e.watch([c,A],()=>{d(c.value)},{deep:!0});const{openOnTop:f,menuStyle:w,xCorrect:h,setMenuPosition:G,getScrollableParent:N,shadowRender:y}=la({menuRef:C,menuRefInner:b,inputRef:T,pickerWrapperRef:z,inline:B,emit:r,props:a,slots:m}),{inputValue:j,internalModelValue:Z,parseExternalModelValue:d,emitModelValue:v,formatInputValue:p,checkBeforeEmit:i}=aa(r,a,S),E=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:B.value.enabled,"dp--flex-display-collapsed":L.value,dp__flex_display_with_input:B.value.input})),u=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),g=e.computed(()=>({to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||B.value.enabled})),le=e.computed(()=>({class:"dp__outer_menu_wrap"})),F=e.computed(()=>B.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),M=()=>{s.value&&(ae.value.closeOnScroll?De():G())},x=()=>{var te;s.value&&G();const _=(te=b.value)==null?void 0:te.$el.getBoundingClientRect().width;L.value=document.body.offsetWidth<=_},ie=_=>{_.key==="Tab"&&!B.value.enabled&&!a.teleport&&ae.value.tabOutClosesMenu&&(z.value.contains(document.activeElement)||De()),D.value=_.shiftKey},re=_=>{D.value=_.shiftKey},ue=()=>{!a.disabled&&!a.readonly&&(y(vn,a),G(!1),s.value=!0,s.value&&r("open"),s.value||rt(),d(a.modelValue))},ne=()=>{var _;j.value="",rt(),(_=T.value)==null||_.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),ae.value.closeOnClearValue&&De()},ve=()=>{const _=Z.value;return!_||!Array.isArray(_)&&$(_)?!0:Array.isArray(_)?J.value.enabled||_.length===2&&$(_[0])&&$(_[1])?!0:ee.value.partialRange&&!a.timePicker?$(_[0]):!1:!1},we=()=>{i()&&ve()?(v(),De()):r("invalid-select",Z.value)},ke=_=>{We(),v(),ae.value.closeOnAutoApply&&!_&&De()},We=()=>{T.value&&q.value.enabled&&T.value.setParsedDate(Z.value)},at=(_=!1)=>{a.autoApply&&I(Z.value)&&ve()&&(ee.value.enabled&&Array.isArray(Z.value)?(ee.value.partialRange||Z.value.length===2)&&ke(_):ke(_))},rt=()=>{q.value.enabled||(Z.value=null)},De=()=>{B.value.enabled||(s.value&&(s.value=!1,h.value=!1,P(!1),O(!1),V(),r("closed"),j.value&&d(c.value)),rt(),r("blur"))},Lt=(_,te,se=!1)=>{if(!_){Z.value=null;return}const Ee=Array.isArray(_)?!_.some(Ue=>!$(Ue)):$(_),Ae=I(_);Ee&&Ae&&(Z.value=_,te&&(Y.value=se,we(),r("text-submit")))},Kt=()=>{a.autoApply&&I(Z.value)&&v(),We()},mt=()=>s.value?De():ue(),Ht=_=>{Z.value=_},Wt=()=>{q.value.enabled&&(S.value=!0,p()),r("focus")},Ut=()=>{if(q.value.enabled&&(S.value=!1,d(a.modelValue),Y.value)){const _=An(z.value,D.value);_==null||_.focus()}r("blur")},Mn=_=>{b.value&&b.value.updateMonthYear(0,{month:Xt(_.month),year:Xt(_.year)})},k=_=>{d(_??a.modelValue)},Q=(_,te)=>{var se;(se=b.value)==null||se.switchView(_,te)},oe=_=>ae.value.onClickOutside?ae.value.onClickOutside(_):De();return vr(C,T,()=>oe(ve)),n({closeMenu:De,selectDate:we,clearValue:ne,openMenu:ue,onScroll:M,formatInputValue:p,updateInternalModelValue:Ht,setMonthYear:Mn,parseModel:k,switchView:Q,toggleMenu:mt}),(_,te)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:z,class:e.normalizeClass(E.value),"data-datepicker-instance":""},[e.createVNode(ma,e.mergeProps({ref_key:"inputRef",ref:T,"input-value":e.unref(j),"onUpdate:inputValue":te[0]||(te[0]=se=>e.isRef(j)?j.value=se:null),"is-menu-open":s.value},_.$props,{onClear:ne,onOpen:ue,onSetInputDate:Lt,onSetEmptyDate:e.unref(v),onSelectDate:we,onToggle:mt,onClose:De,onFocus:Wt,onBlur:Ut,onRealBlur:te[1]||(te[1]=se=>S.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(H),(se,Ee)=>({name:se,fn:e.withCtx(Ae=>[e.renderSlot(_.$slots,se,e.normalizeProps(e.guardReactiveProps(Ae)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(_.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(g.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(R)(e.unref(f)),css:e.unref(U)&&!e.unref(B).enabled},{default:e.withCtx(()=>[s.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:C},le.value,{class:{"dp--menu-wrapper":!e.unref(B).enabled},style:e.unref(B).enabled?void 0:e.unref(w)}),[e.createVNode(vn,e.mergeProps({ref_key:"dpMenuRef",ref:b},_.$props,{"internal-model-value":e.unref(Z),"onUpdate:internalModelValue":te[2]||(te[2]=se=>e.isRef(Z)?Z.value=se:null),class:{[u.value]:!0,"dp--menu-wrapper":_.teleport},"open-on-top":e.unref(f),"no-overlay-focus":F.value,collapse:L.value,onClosePicker:De,onSelectDate:we,onAutoApply:at,onTimeUpdate:Kt,onFlowStep:te[3]||(te[3]=se=>_.$emit("flow-step",se)),onUpdateMonthYear:te[4]||(te[4]=se=>_.$emit("update-month-year",se)),onInvalidSelect:te[5]||(te[5]=se=>_.$emit("invalid-select",e.unref(Z))),onAutoApplyInvalid:te[6]||(te[6]=se=>_.$emit("invalid-select",se)),onInvalidFixedRange:te[7]||(te[7]=se=>_.$emit("invalid-fixed-range",se)),onRecalculatePosition:e.unref(G),onTooltipOpen:te[8]||(te[8]=se=>_.$emit("tooltip-open",se)),onTooltipClose:te[9]||(te[9]=se=>_.$emit("tooltip-close",se)),onTimePickerOpen:te[10]||(te[10]=se=>_.$emit("time-picker-open",se)),onTimePickerClose:te[11]||(te[11]=se=>_.$emit("time-picker-close",se)),onAmPmChange:te[12]||(te[12]=se=>_.$emit("am-pm-change",se)),onRangeStart:te[13]||(te[13]=se=>_.$emit("range-start",se)),onRangeEnd:te[14]||(te[14]=se=>_.$emit("range-end",se)),onDateUpdate:te[15]||(te[15]=se=>_.$emit("date-update",se)),onInvalidDate:te[16]||(te[16]=se=>_.$emit("invalid-date",se))}),e.createSlots({_:2},[e.renderList(e.unref(X),(se,Ee)=>({name:se,fn:e.withCtx(Ae=>[e.renderSlot(_.$slots,se,e.normalizeProps(e.guardReactiveProps({...Ae})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),zt=(()=>{const t=Mr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(zt[t]=n)}),zt});
